import{a as k,r as i,j as e}from"./index-CuPLTIq6.js";import{L as d}from"./Layout-Bhj-hCGg.js";import{E as I}from"./ExportModal-BX3XtV_d.js";import{c as S}from"./createLucideIcon-Bp_Bh7vc.js";import{D as A}from"./download-BIeXtM7T.js";import{G as o}from"./gauge-C3G_6xek.js";import{W as x}from"./wifi-off-C9qm20-S.js";import{A as m}from"./alert-triangle-CENt64Gl.js";import{A as h}from"./activity-DvS__W_y.js";import"./x-BHP2hNWw.js";import"./calendar-BHWY2O9g.js";import"./file-spreadsheet-BNFMNFvj.js";import"./database-Cj7RBCxv.js";/**
 * @license lucide-react v0.307.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=S("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),R=()=>{const v=k(),[t,g]=i.useState(null),[p,f]=i.useState(!0),[j,r]=i.useState(!1);i.useEffect(()=>{c();const s=setInterval(c,1e4);return()=>clearInterval(s)},[]);const c=async()=>{try{const s=await fetch("/api/sections/stats");if(s.ok){const a=await s.json();g(a)}}catch(s){console.error("Error fetching section stats:",s)}finally{f(!1)}},N=s=>{v(`/sections/${s}`)};if(p)return e.jsx(d,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-4 text-gray-400",children:"Loading sections..."})]})});const b=["from-blue-600 to-blue-700","from-green-600 to-green-700","from-purple-600 to-purple-700","from-orange-600 to-orange-700","from-pink-600 to-pink-700"],y=[{section_id:"I",section_name:"Section I - Multan/BWP/Sahiwal",sms_count:0,active_sms:0,cumulative_volume_flow:0,unit:"MCF/day"},{section_id:"II",section_name:"Section II",sms_count:0,active_sms:0,cumulative_volume_flow:0,unit:"MCF/day"},{section_id:"III",section_name:"Section III",sms_count:0,active_sms:0,cumulative_volume_flow:0,unit:"MCF/day"},{section_id:"IV",section_name:"Section IV",sms_count:0,active_sms:0,cumulative_volume_flow:0,unit:"MCF/day"},{section_id:"V",section_name:"Section V",sms_count:0,active_sms:0,cumulative_volume_flow:0,unit:"MCF/day"}],_={sms_count:0,active_sms:0,cumulative_volume_flow:0},n=(t==null?void 0:t.sections)||y,l=(t==null?void 0:t.all_sms)||_;return e.jsxs(d,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"glass rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(u,{className:"w-8 h-8"}),"Sections Overview"]}),e.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:shadow-lg transition-all font-medium",children:[e.jsx(A,{className:"w-5 h-5"}),e.jsx("span",{children:"Export All 400 Devices"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.map((s,a)=>{const w=s.sms_count-s.active_sms,M=Math.floor(Math.random()*s.sms_count*.2);return e.jsxs("div",{onClick:()=>N(s.section_id),className:"glass rounded-xl p-6 cursor-pointer hover:scale-105 transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`w-16 h-16 bg-gradient-to-br ${b[a]} rounded-xl flex items-center justify-center text-white shadow-lg`,children:e.jsx("span",{className:"text-2xl font-bold",children:s.section_id})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Flow"}),e.jsx("div",{className:"text-3xl font-bold text-cyan-600",children:s.cumulative_volume_flow.toFixed(1)}),e.jsx("div",{className:"text-xs text-gray-600",children:s.unit})]})]}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:s.section_name}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-blue-100 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(o,{className:"w-4 h-4 text-blue-600"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Total"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s.sms_count})]}),e.jsxs("div",{className:"bg-red-100 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(x,{className:"w-4 h-4 text-red-600"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Offline"})]}),e.jsx("div",{className:"text-2xl font-bold text-red-600",children:w})]}),e.jsxs("div",{className:"bg-yellow-100 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(m,{className:"w-4 h-4 text-yellow-600"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Alarms"})]}),e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:M})]}),e.jsxs("div",{className:"bg-green-100 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(h,{className:"w-4 h-4 text-green-600"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Online"})]}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.active_sms})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-300",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"View SMS Devices"}),e.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]},s.section_id)}),e.jsxs("div",{className:"glass rounded-xl p-6 bg-gradient-to-br from-purple-50 to-blue-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-blue-600 rounded-xl flex items-center justify-center text-white shadow-lg",children:e.jsx(u,{className:"w-8 h-8"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Flow"}),e.jsx("div",{className:"text-3xl font-bold text-cyan-600",children:l.cumulative_volume_flow.toFixed(1)}),e.jsx("div",{className:"text-xs text-gray-600",children:"MCF/day"})]})]}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Total Devices"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-blue-100 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(o,{className:"w-4 h-4 text-blue-600"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Total"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:l.sms_count})]}),e.jsxs("div",{className:"bg-red-100 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(x,{className:"w-4 h-4 text-red-600"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Offline"})]}),e.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.sms_count-l.active_sms})]}),e.jsxs("div",{className:"bg-yellow-100 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(m,{className:"w-4 h-4 text-yellow-600"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Alarms"})]}),e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:n.filter(s=>s.section_id!=="OTHER").reduce((s,a)=>s+Math.floor(Math.random()*a.sms_count*.2),0)})]}),e.jsxs("div",{className:"bg-green-100 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(h,{className:"w-4 h-4 text-green-600"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Online"})]}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.active_sms})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-300",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Across All Sections"}),e.jsx("span",{className:"text-xs text-gray-600 bg-purple-100 px-2 py-1 rounded",children:"Sections I-V"})]})]})]}),e.jsxs("div",{className:"text-center text-sm text-gray-500",children:["Last updated: ",t!=null&&t.timestamp?new Date(t.timestamp).toLocaleString():"N/A"]})]}),e.jsx(I,{isOpen:j,onClose:()=>r(!1),exportType:"all"})]})};export{R as default};
