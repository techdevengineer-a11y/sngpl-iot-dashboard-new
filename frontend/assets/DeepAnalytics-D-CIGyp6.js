import{r as K,f as Bi,e as Xi,a as Yi,g as Zi,c as Ki,j as w}from"./index-CuPLTIq6.js";import{b as Ut,d as Ln,e as Qi,f as Un,o as Ji,m as Hn,a as qn}from"./string-9MY7XALd.js";import{L as to}from"./Layout-Bhj-hCGg.js";import{Z as eo}from"./zap-Wr_B-Xx-.js";import{S as no}from"./settings-JHGs2bLF.js";import{D as ro}from"./download-BIeXtM7T.js";import{A as io}from"./activity-DvS__W_y.js";import{C as Xe}from"./check-circle-vKC8st0W.js";import{A as oo}from"./alert-circle-Dx3ewC63.js";import{A as Vn}from"./alert-triangle-CENt64Gl.js";import{c as wn}from"./createLucideIcon-Bp_Bh7vc.js";import{E as ao}from"./eye-DsZQJS_t.js";import{E as so}from"./eye-off-La60d6dM.js";import{B as lo}from"./bell-BjJmD8pt.js";import{T as uo}from"./trending-up-KnywOmps.js";import{X as Wn}from"./x-BHP2hNWw.js";/**
 * @license lucide-react v0.307.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=wn("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.307.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=wn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.307.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=wn("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);function po(e,n){let r=0;for(let i of e)(i=+i)&&(r+=i);return r}var Gn=180/Math.PI,nn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $r(e,n,r,i,o,a){var s,l,c;return(s=Math.sqrt(e*e+n*n))&&(e/=s,n/=s),(c=e*r+n*i)&&(r-=e*c,i-=n*c),(l=Math.sqrt(r*r+i*i))&&(r/=l,i/=l,c/=l),e*i<n*r&&(e=-e,n=-n,c=-c,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(n,e)*Gn,skewX:Math.atan(c)*Gn,scaleX:s,scaleY:l}}var be;function go(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?nn:$r(n.a,n.b,n.c,n.d,n.e,n.f)}function yo(e){return e==null||(be||(be=document.createElementNS("http://www.w3.org/2000/svg","g")),be.setAttribute("transform",e),!(e=be.transform.baseVal.consolidate()))?nn:(e=e.matrix,$r(e.a,e.b,e.c,e.d,e.e,e.f))}function Fr(e,n,r,i){function o(u){return u.length?u.pop()+" ":""}function a(u,h,f,d,p,y){if(u!==f||h!==d){var _=p.push("translate(",null,n,null,r);y.push({i:_-4,x:Ut(u,f)},{i:_-2,x:Ut(h,d)})}else(f||d)&&p.push("translate("+f+n+d+r)}function s(u,h,f,d){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),d.push({i:f.push(o(f)+"rotate(",null,i)-2,x:Ut(u,h)})):h&&f.push(o(f)+"rotate("+h+i)}function l(u,h,f,d){u!==h?d.push({i:f.push(o(f)+"skewX(",null,i)-2,x:Ut(u,h)}):h&&f.push(o(f)+"skewX("+h+i)}function c(u,h,f,d,p,y){if(u!==f||h!==d){var _=p.push(o(p)+"scale(",null,",",null,")");y.push({i:_-4,x:Ut(u,f)},{i:_-2,x:Ut(h,d)})}else(f!==1||d!==1)&&p.push(o(p)+"scale("+f+","+d+")")}return function(u,h){var f=[],d=[];return u=e(u),h=e(h),a(u.translateX,u.translateY,h.translateX,h.translateY,f,d),s(u.rotate,h.rotate,f,d),l(u.skewX,h.skewX,f,d),c(u.scaleX,u.scaleY,h.scaleX,h.scaleY,f,d),u=h=null,function(p){for(var y=-1,_=d.length,m;++y<_;)f[(m=d[y]).i]=m.x(p);return f.join("")}}}var mo=Fr(go,"px, ","px)","deg)"),vo=Fr(yo,", ",")",")"),_o=1e-12;function Bn(e){return((e=Math.exp(e))+1/e)/2}function xo(e){return((e=Math.exp(e))-1/e)/2}function bo(e){return((e=Math.exp(2*e))-1)/(e+1)}const wo=function e(n,r,i){function o(a,s){var l=a[0],c=a[1],u=a[2],h=s[0],f=s[1],d=s[2],p=h-l,y=f-c,_=p*p+y*y,m,g;if(_<_o)g=Math.log(d/u)/n,m=function(T){return[l+T*p,c+T*y,u*Math.exp(n*T*g)]};else{var k=Math.sqrt(_),N=(d*d-u*u+i*_)/(2*u*r*k),x=(d*d-u*u-i*_)/(2*d*r*k),b=Math.log(Math.sqrt(N*N+1)-N),A=Math.log(Math.sqrt(x*x+1)-x);g=(A-b)/n,m=function(T){var j=T*g,R=Bn(b),P=u/(r*k)*(R*bo(n*j+b)-xo(b));return[l+P*p,c+P*y,u*R/Bn(n*j+b)]}}return m.duration=g*1e3*n/Math.SQRT2,m}return o.rho=function(a){var s=Math.max(.001,+a),l=s*s,c=l*l;return e(s,l,c)},o}(Math.SQRT2,2,4);function ko(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,n===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(i=a.call(r)).done)&&(l.push(i.value),l.length!==n);c=!0);}catch(h){u=!0,o=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw o}}return l}}function Ao(e,n,r){return n=Oo(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Xn(e,n){return No(e)||ko(e,n)||Lr(e,n)||Mo()}function So(e){return Co(e)||To(e)||Lr(e)||jo()}function Co(e){if(Array.isArray(e))return rn(e)}function No(e){if(Array.isArray(e))return e}function To(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lr(e,n){if(e){if(typeof e=="string")return rn(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rn(e,n)}}function rn(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=new Array(n);r<n;r++)i[r]=e[r];return i}function jo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Po(e,n){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Oo(e){var n=Po(e,"string");return typeof n=="symbol"?n:String(n)}var Eo=function(n,r){var i=new Set(r);return Object.assign.apply(Object,[{}].concat(So(Object.entries(n).filter(function(o){var a=Xn(o,1),s=a[0];return!i.has(s)}).map(function(o){var a=Xn(o,2),s=a[0],l=a[1];return Ao({},s,l)}))))};function on(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function zo(e){if(Array.isArray(e))return e}function Ro(e){if(Array.isArray(e))return on(e)}function Do(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Io(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(c=(i=a.call(r)).done)&&(l.push(i.value),l.length!==n);c=!0);}catch(h){u=!0,o=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw o}}return l}}function $o(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lo(e,n){return zo(e)||Io(e,n)||Ur(e,n)||$o()}function Yn(e){return Ro(e)||Do(e)||Ur(e)||Fo()}function Ur(e,n){if(e){if(typeof e=="string")return on(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?on(e,n):void 0}}function Uo(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.wrapperElementType,i=r===void 0?"div":r,o=n.nodeMapper,a=o===void 0?function(h){return h}:o,s=n.methodNames,l=s===void 0?[]:s,c=n.initPropNames,u=c===void 0?[]:c;return K.forwardRef(function(h,f){var d=K.useRef(),p=K.useMemo(function(){var m=Object.fromEntries(u.filter(function(g){return h.hasOwnProperty(g)}).map(function(g){return[g,h[g]]}));return e(m)},[]);Zn(function(){p(a(d.current))},K.useLayoutEffect),Zn(function(){return p._destructor instanceof Function?p._destructor:void 0});var y=K.useCallback(function(m){for(var g=arguments.length,k=new Array(g>1?g-1:0),N=1;N<g;N++)k[N-1]=arguments[N];return p[m]instanceof Function?p[m].apply(p,k):void 0},[p]),_=K.useRef({});return Object.keys(Eo(h,[].concat(Yn(l),Yn(u)))).filter(function(m){return _.current[m]!==h[m]}).forEach(function(m){return y(m,h[m])}),_.current=h,K.useImperativeHandle(f,function(){return Object.fromEntries(l.map(function(m){return[m,function(){for(var g=arguments.length,k=new Array(g),N=0;N<g;N++)k[N]=arguments[N];return y.apply(void 0,[m].concat(k))}]}))},[y]),Bi.createElement(i,{ref:d})})}function Zn(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K.useEffect,r=K.useRef(),i=K.useRef(!1),o=K.useRef(!1),a=K.useState(0),s=Lo(a,2);s[0];var l=s[1];i.current&&(o.current=!0),n(function(){return i.current||(r.current=e(),i.current=!0),l(function(c){return c+1}),function(){o.current&&r.current&&r.current()}},[])}var an="http://www.w3.org/1999/xhtml";const Kn={svg:"http://www.w3.org/2000/svg",xhtml:an,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ue(e){var n=e+="",r=n.indexOf(":");return r>=0&&(n=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Kn.hasOwnProperty(n)?{space:Kn[n],local:e}:e}function Ho(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===an&&n.documentElement.namespaceURI===an?n.createElement(e):n.createElementNS(r,e)}}function qo(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Hr(e){var n=Ue(e);return(n.local?qo:Ho)(n)}function Vo(){}function kn(e){return e==null?Vo:function(){return this.querySelector(e)}}function Wo(e){typeof e!="function"&&(e=kn(e));for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a=n[o],s=a.length,l=i[o]=new Array(s),c,u,h=0;h<s;++h)(c=a[h])&&(u=e.call(c,c.__data__,h,a))&&("__data__"in c&&(u.__data__=c.__data__),l[h]=u);return new gt(i,this._parents)}function Go(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Bo(){return[]}function qr(e){return e==null?Bo:function(){return this.querySelectorAll(e)}}function Xo(e){return function(){return Go(e.apply(this,arguments))}}function Yo(e){typeof e=="function"?e=Xo(e):e=qr(e);for(var n=this._groups,r=n.length,i=[],o=[],a=0;a<r;++a)for(var s=n[a],l=s.length,c,u=0;u<l;++u)(c=s[u])&&(i.push(e.call(c,c.__data__,u,s)),o.push(c));return new gt(i,o)}function Vr(e){return function(){return this.matches(e)}}function Wr(e){return function(n){return n.matches(e)}}var Zo=Array.prototype.find;function Ko(e){return function(){return Zo.call(this.children,e)}}function Qo(){return this.firstElementChild}function Jo(e){return this.select(e==null?Qo:Ko(typeof e=="function"?e:Wr(e)))}var ta=Array.prototype.filter;function ea(){return Array.from(this.children)}function na(e){return function(){return ta.call(this.children,e)}}function ra(e){return this.selectAll(e==null?ea:na(typeof e=="function"?e:Wr(e)))}function ia(e){typeof e!="function"&&(e=Vr(e));for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a=n[o],s=a.length,l=i[o]=[],c,u=0;u<s;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new gt(i,this._parents)}function Gr(e){return new Array(e.length)}function oa(){return new gt(this._enter||this._groups.map(Gr),this._parents)}function Pe(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}Pe.prototype={constructor:Pe,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function aa(e){return function(){return e}}function sa(e,n,r,i,o,a){for(var s=0,l,c=n.length,u=a.length;s<u;++s)(l=n[s])?(l.__data__=a[s],i[s]=l):r[s]=new Pe(e,a[s]);for(;s<c;++s)(l=n[s])&&(o[s]=l)}function la(e,n,r,i,o,a,s){var l,c,u=new Map,h=n.length,f=a.length,d=new Array(h),p;for(l=0;l<h;++l)(c=n[l])&&(d[l]=p=s.call(c,c.__data__,l,n)+"",u.has(p)?o[l]=c:u.set(p,c));for(l=0;l<f;++l)p=s.call(e,a[l],l,a)+"",(c=u.get(p))?(i[l]=c,c.__data__=a[l],u.delete(p)):r[l]=new Pe(e,a[l]);for(l=0;l<h;++l)(c=n[l])&&u.get(d[l])===c&&(o[l]=c)}function ua(e){return e.__data__}function ca(e,n){if(!arguments.length)return Array.from(this,ua);var r=n?la:sa,i=this._parents,o=this._groups;typeof e!="function"&&(e=aa(e));for(var a=o.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var h=i[u],f=o[u],d=f.length,p=fa(e.call(h,h&&h.__data__,u,i)),y=p.length,_=l[u]=new Array(y),m=s[u]=new Array(y),g=c[u]=new Array(d);r(h,f,_,m,g,p,n);for(var k=0,N=0,x,b;k<y;++k)if(x=_[k]){for(k>=N&&(N=k+1);!(b=m[N])&&++N<y;);x._next=b||null}}return s=new gt(s,i),s._enter=l,s._exit=c,s}function fa(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ha(){return new gt(this._exit||this._groups.map(Gr),this._parents)}function da(e,n,r){var i=this.enter(),o=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),n!=null&&(o=n(o),o&&(o=o.selection())),r==null?a.remove():r(a),i&&o?i.merge(o).order():o}function pa(e){for(var n=e.selection?e.selection():e,r=this._groups,i=n._groups,o=r.length,a=i.length,s=Math.min(o,a),l=new Array(o),c=0;c<s;++c)for(var u=r[c],h=i[c],f=u.length,d=l[c]=new Array(f),p,y=0;y<f;++y)(p=u[y]||h[y])&&(d[y]=p);for(;c<o;++c)l[c]=r[c];return new gt(l,this._parents)}function ga(){for(var e=this._groups,n=-1,r=e.length;++n<r;)for(var i=e[n],o=i.length-1,a=i[o],s;--o>=0;)(s=i[o])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function ya(e){e||(e=ma);function n(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a){for(var s=r[a],l=s.length,c=o[a]=new Array(l),u,h=0;h<l;++h)(u=s[h])&&(c[h]=u);c.sort(n)}return new gt(o,this._parents).order()}function ma(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function va(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function _a(){return Array.from(this)}function xa(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length;o<a;++o){var s=i[o];if(s)return s}return null}function ba(){let e=0;for(const n of this)++e;return e}function wa(){return!this.node()}function ka(e){for(var n=this._groups,r=0,i=n.length;r<i;++r)for(var o=n[r],a=0,s=o.length,l;a<s;++a)(l=o[a])&&e.call(l,l.__data__,a,o);return this}function Aa(e){return function(){this.removeAttribute(e)}}function Sa(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ca(e,n){return function(){this.setAttribute(e,n)}}function Na(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function Ta(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function ja(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Ma(e,n){var r=Ue(e);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((n==null?r.local?Sa:Aa:typeof n=="function"?r.local?ja:Ta:r.local?Na:Ca)(r,n))}function Br(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Pa(e){return function(){this.style.removeProperty(e)}}function Oa(e,n,r){return function(){this.style.setProperty(e,n,r)}}function Ea(e,n,r){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,r)}}function za(e,n,r){return arguments.length>1?this.each((n==null?Pa:typeof n=="function"?Ea:Oa)(e,n,r??"")):Yt(this.node(),e)}function Yt(e,n){return e.style.getPropertyValue(n)||Br(e).getComputedStyle(e,null).getPropertyValue(n)}function Ra(e){return function(){delete this[e]}}function Da(e,n){return function(){this[e]=n}}function Ia(e,n){return function(){var r=n.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function $a(e,n){return arguments.length>1?this.each((n==null?Ra:typeof n=="function"?Ia:Da)(e,n)):this.node()[e]}function Xr(e){return e.trim().split(/^|\s+/)}function An(e){return e.classList||new Yr(e)}function Yr(e){this._node=e,this._names=Xr(e.getAttribute("class")||"")}Yr.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Zr(e,n){for(var r=An(e),i=-1,o=n.length;++i<o;)r.add(n[i])}function Kr(e,n){for(var r=An(e),i=-1,o=n.length;++i<o;)r.remove(n[i])}function Fa(e){return function(){Zr(this,e)}}function La(e){return function(){Kr(this,e)}}function Ua(e,n){return function(){(n.apply(this,arguments)?Zr:Kr)(this,e)}}function Ha(e,n){var r=Xr(e+"");if(arguments.length<2){for(var i=An(this.node()),o=-1,a=r.length;++o<a;)if(!i.contains(r[o]))return!1;return!0}return this.each((typeof n=="function"?Ua:n?Fa:La)(r,n))}function qa(){this.textContent=""}function Va(e){return function(){this.textContent=e}}function Wa(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function Ga(e){return arguments.length?this.each(e==null?qa:(typeof e=="function"?Wa:Va)(e)):this.node().textContent}function Ba(){this.innerHTML=""}function Xa(e){return function(){this.innerHTML=e}}function Ya(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function Za(e){return arguments.length?this.each(e==null?Ba:(typeof e=="function"?Ya:Xa)(e)):this.node().innerHTML}function Ka(){this.nextSibling&&this.parentNode.appendChild(this)}function Qa(){return this.each(Ka)}function Ja(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ts(){return this.each(Ja)}function es(e){var n=typeof e=="function"?e:Hr(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function ns(){return null}function rs(e,n){var r=typeof e=="function"?e:Hr(e),i=n==null?ns:typeof n=="function"?n:kn(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}function is(){var e=this.parentNode;e&&e.removeChild(this)}function os(){return this.each(is)}function as(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function ss(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function ls(e){return this.select(e?ss:as)}function us(e){return arguments.length?this.property("__data__",e):this.node().__data__}function cs(e){return function(n){e.call(this,n,this.__data__)}}function fs(e){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");return i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),{type:n,name:r}})}function hs(e){return function(){var n=this.__on;if(n){for(var r=0,i=-1,o=n.length,a;r<o;++r)a=n[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):n[++i]=a;++i?n.length=i:delete this.__on}}}function ds(e,n,r){return function(){var i=this.__on,o,a=cs(n);if(i){for(var s=0,l=i.length;s<l;++s)if((o=i[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=r),o.value=n;return}}this.addEventListener(e.type,a,r),o={type:e.type,name:e.name,value:n,listener:a,options:r},i?i.push(o):this.__on=[o]}}function ps(e,n,r){var i=fs(e+""),o,a=i.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,h;c<u;++c)for(o=0,h=l[c];o<a;++o)if((s=i[o]).type===h.type&&s.name===h.name)return h.value}return}for(l=n?ds:hs,o=0;o<a;++o)this.each(l(i[o],n,r));return this}function Qr(e,n,r){var i=Br(e),o=i.CustomEvent;typeof o=="function"?o=new o(n,r):(o=i.document.createEvent("Event"),r?(o.initEvent(n,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(n,!1,!1)),e.dispatchEvent(o)}function gs(e,n){return function(){return Qr(this,e,n)}}function ys(e,n){return function(){return Qr(this,e,n.apply(this,arguments))}}function ms(e,n){return this.each((typeof n=="function"?ys:gs)(e,n))}function*vs(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&(yield s)}var Jr=[null];function gt(e,n){this._groups=e,this._parents=n}function me(){return new gt([[document.documentElement]],Jr)}function _s(){return this}gt.prototype=me.prototype={constructor:gt,select:Wo,selectAll:Yo,selectChild:Jo,selectChildren:ra,filter:ia,data:ca,enter:oa,exit:ha,join:da,merge:pa,selection:_s,order:ga,sort:ya,call:va,nodes:_a,node:xa,size:ba,empty:wa,each:ka,attr:Ma,style:za,property:$a,classed:Ha,text:Ga,html:Za,raise:Qa,lower:ts,append:es,insert:rs,remove:os,clone:ls,datum:us,on:ps,dispatch:ms,[Symbol.iterator]:vs};function vt(e){return typeof e=="string"?new gt([[document.querySelector(e)]],[document.documentElement]):new gt([[e]],Jr)}function xs(e){let n;for(;n=e.sourceEvent;)e=n;return e}function At(e,n){if(e=xs(e),n===void 0&&(n=e.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var o=n.getBoundingClientRect();return[e.clientX-o.left-n.clientLeft,e.clientY-o.top-n.clientTop]}}return[e.pageX,e.pageY]}var bs={value:()=>{}};function ve(){for(var e=0,n=arguments.length,r={},i;e<n;++e){if(!(i=arguments[e]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new Ce(r)}function Ce(e){this._=e}function ws(e,n){return e.trim().split(/^|\s+/).map(function(r){var i="",o=r.indexOf(".");if(o>=0&&(i=r.slice(o+1),r=r.slice(0,o)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}Ce.prototype=ve.prototype={constructor:Ce,on:function(e,n){var r=this._,i=ws(e+"",r),o,a=-1,s=i.length;if(arguments.length<2){for(;++a<s;)if((o=(e=i[a]).type)&&(o=ks(r[o],e.name)))return o;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<s;)if(o=(e=i[a]).type)r[o]=Qn(r[o],e.name,n);else if(n==null)for(o in r)r[o]=Qn(r[o],e.name,null);return this},copy:function(){var e={},n=this._;for(var r in n)e[r]=n[r].slice();return new Ce(e)},call:function(e,n){if((o=arguments.length-2)>0)for(var r=new Array(o),i=0,o,a;i<o;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,o=a.length;i<o;++i)a[i].value.apply(n,r)},apply:function(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,a=i.length;o<a;++o)i[o].value.apply(n,r)}};function ks(e,n){for(var r=0,i=e.length,o;r<i;++r)if((o=e[r]).name===n)return o.value}function Qn(e,n,r){for(var i=0,o=e.length;i<o;++i)if(e[i].name===n){e[i]=bs,e=e.slice(0,i).concat(e.slice(i+1));break}return r!=null&&e.push({name:n,value:r}),e}const As={passive:!1},de={capture:!0,passive:!1};function Ye(e){e.stopImmediatePropagation()}function Xt(e){e.preventDefault(),e.stopImmediatePropagation()}function ti(e){var n=e.document.documentElement,r=vt(e).on("dragstart.drag",Xt,de);"onselectstart"in n?r.on("selectstart.drag",Xt,de):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function ei(e,n){var r=e.document.documentElement,i=vt(e).on("dragstart.drag",null);n&&(i.on("click.drag",Xt,de),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const we=e=>()=>e;function sn(e,{sourceEvent:n,subject:r,target:i,identifier:o,active:a,x:s,y:l,dx:c,dy:u,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:h}})}sn.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Ss(e){return!e.ctrlKey&&!e.button}function Cs(){return this.parentNode}function Ns(e,n){return n??{x:e.x,y:e.y}}function Ts(){return navigator.maxTouchPoints||"ontouchstart"in this}function js(){var e=Ss,n=Cs,r=Ns,i=Ts,o={},a=ve("start","drag","end"),s=0,l,c,u,h,f=0;function d(x){x.on("mousedown.drag",p).filter(i).on("touchstart.drag",m).on("touchmove.drag",g,As).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(x,b){if(!(h||!e.call(this,x,b))){var A=N(this,n.call(this,x,b),x,b,"mouse");A&&(vt(x.view).on("mousemove.drag",y,de).on("mouseup.drag",_,de),ti(x.view),Ye(x),u=!1,l=x.clientX,c=x.clientY,A("start",x))}}function y(x){if(Xt(x),!u){var b=x.clientX-l,A=x.clientY-c;u=b*b+A*A>f}o.mouse("drag",x)}function _(x){vt(x.view).on("mousemove.drag mouseup.drag",null),ei(x.view,u),Xt(x),o.mouse("end",x)}function m(x,b){if(e.call(this,x,b)){var A=x.changedTouches,T=n.call(this,x,b),j=A.length,R,P;for(R=0;R<j;++R)(P=N(this,T,x,b,A[R].identifier,A[R]))&&(Ye(x),P("start",x,A[R]))}}function g(x){var b=x.changedTouches,A=b.length,T,j;for(T=0;T<A;++T)(j=o[b[T].identifier])&&(Xt(x),j("drag",x,b[T]))}function k(x){var b=x.changedTouches,A=b.length,T,j;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),T=0;T<A;++T)(j=o[b[T].identifier])&&(Ye(x),j("end",x,b[T]))}function N(x,b,A,T,j,R){var P=a.copy(),z=At(R||A,b),D,U,C;if((C=r.call(x,new sn("beforestart",{sourceEvent:A,target:d,identifier:j,active:s,x:z[0],y:z[1],dx:0,dy:0,dispatch:P}),T))!=null)return D=C.x-z[0]||0,U=C.y-z[1]||0,function E(M,$,L){var H=z,q;switch(M){case"start":o[j]=E,q=s++;break;case"end":delete o[j],--s;case"drag":z=At(L||$,b),q=s;break}P.call(M,x,new sn(M,{sourceEvent:$,subject:C,target:d,identifier:j,active:q,x:z[0]+D,y:z[1]+U,dx:z[0]-H[0],dy:z[1]-H[1],dispatch:P}),T)}}return d.filter=function(x){return arguments.length?(e=typeof x=="function"?x:we(!!x),d):e},d.container=function(x){return arguments.length?(n=typeof x=="function"?x:we(x),d):n},d.subject=function(x){return arguments.length?(r=typeof x=="function"?x:we(x),d):r},d.touchable=function(x){return arguments.length?(i=typeof x=="function"?x:we(!!x),d):i},d.on=function(){var x=a.on.apply(a,arguments);return x===a?d:x},d.clickDistance=function(x){return arguments.length?(f=(x=+x)*x,d):Math.sqrt(f)},d}var Zt=0,ae=0,Qt=0,ni=1e3,Oe,se,Ee=0,Vt=0,He=0,pe=typeof performance=="object"&&performance.now?performance:Date,ri=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Sn(){return Vt||(ri(Ms),Vt=pe.now()+He)}function Ms(){Vt=0}function ze(){this._call=this._time=this._next=null}ze.prototype=Cn.prototype={constructor:ze,restart:function(e,n,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Sn():+r)+(n==null?0:+n),!this._next&&se!==this&&(se?se._next=this:Oe=this,se=this),this._call=e,this._time=r,ln()},stop:function(){this._call&&(this._call=null,this._time=1/0,ln())}};function Cn(e,n,r){var i=new ze;return i.restart(e,n,r),i}function Ps(){Sn(),++Zt;for(var e=Oe,n;e;)(n=Vt-e._time)>=0&&e._call.call(void 0,n),e=e._next;--Zt}function Jn(){Vt=(Ee=pe.now())+He,Zt=ae=0;try{Ps()}finally{Zt=0,Es(),Vt=0}}function Os(){var e=pe.now(),n=e-Ee;n>ni&&(He-=n,Ee=e)}function Es(){for(var e,n=Oe,r,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(r=n._next,n._next=null,n=e?e._next=r:Oe=r);se=e,ln(i)}function ln(e){if(!Zt){ae&&(ae=clearTimeout(ae));var n=e-Vt;n>24?(e<1/0&&(ae=setTimeout(Jn,e-pe.now()-He)),Qt&&(Qt=clearInterval(Qt))):(Qt||(Ee=pe.now(),Qt=setInterval(Os,ni)),Zt=1,ri(Jn))}}function tr(e,n,r){var i=new ze;return n=n==null?0:+n,i.restart(o=>{i.stop(),e(o+n)},n,r),i}var zs=ve("start","end","cancel","interrupt"),Rs=[],ii=0,er=1,un=2,Ne=3,nr=4,cn=5,Te=6;function qe(e,n,r,i,o,a){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;Ds(e,r,{name:n,index:i,group:o,on:zs,tween:Rs,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:ii})}function Nn(e,n){var r=wt(e,n);if(r.state>ii)throw new Error("too late; already scheduled");return r}function Nt(e,n){var r=wt(e,n);if(r.state>Ne)throw new Error("too late; already running");return r}function wt(e,n){var r=e.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function Ds(e,n,r){var i=e.__transition,o;i[n]=r,r.timer=Cn(a,0,r.time);function a(u){r.state=er,r.timer.restart(s,r.delay,r.time),r.delay<=u&&s(u-r.delay)}function s(u){var h,f,d,p;if(r.state!==er)return c();for(h in i)if(p=i[h],p.name===r.name){if(p.state===Ne)return tr(s);p.state===nr?(p.state=Te,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete i[h]):+h<n&&(p.state=Te,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete i[h])}if(tr(function(){r.state===Ne&&(r.state=nr,r.timer.restart(l,r.delay,r.time),l(u))}),r.state=un,r.on.call("start",e,e.__data__,r.index,r.group),r.state===un){for(r.state=Ne,o=new Array(d=r.tween.length),h=0,f=-1;h<d;++h)(p=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(o[++f]=p);o.length=f+1}}function l(u){for(var h=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=cn,1),f=-1,d=o.length;++f<d;)o[f].call(e,h);r.state===cn&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=Te,r.timer.stop(),delete i[n];for(var u in i)return;delete e.__transition}}function je(e,n){var r=e.__transition,i,o,a=!0,s;if(r){n=n==null?null:n+"";for(s in r){if((i=r[s]).name!==n){a=!1;continue}o=i.state>un&&i.state<cn,i.state=Te,i.timer.stop(),i.on.call(o?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete r[s]}a&&delete e.__transition}}function Is(e){return this.each(function(){je(this,e)})}function $s(e,n){var r,i;return function(){var o=Nt(this,e),a=o.tween;if(a!==r){i=r=a;for(var s=0,l=i.length;s<l;++s)if(i[s].name===n){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function Fs(e,n,r){var i,o;if(typeof r!="function")throw new Error;return function(){var a=Nt(this,e),s=a.tween;if(s!==i){o=(i=s).slice();for(var l={name:n,value:r},c=0,u=o.length;c<u;++c)if(o[c].name===n){o[c]=l;break}c===u&&o.push(l)}a.tween=o}}function Ls(e,n){var r=this._id;if(e+="",arguments.length<2){for(var i=wt(this.node(),r).tween,o=0,a=i.length,s;o<a;++o)if((s=i[o]).name===e)return s.value;return null}return this.each((n==null?$s:Fs)(r,e,n))}function Tn(e,n,r){var i=e._id;return e.each(function(){var o=Nt(this,i);(o.value||(o.value={}))[n]=r.apply(this,arguments)}),function(o){return wt(o,i).value[n]}}function oi(e,n){var r;return(typeof n=="number"?Ut:n instanceof Un?Ln:(r=Un(n))?(n=r,Ln):Qi)(e,n)}function Us(e){return function(){this.removeAttribute(e)}}function Hs(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qs(e,n,r){var i,o=r+"",a;return function(){var s=this.getAttribute(e);return s===o?null:s===i?a:a=n(i=s,r)}}function Vs(e,n,r){var i,o=r+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===i?a:a=n(i=s,r)}}function Ws(e,n,r){var i,o,a;return function(){var s,l=r(this),c;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=l+"",s===c?null:s===i&&c===o?a:(o=c,a=n(i=s,l)))}}function Gs(e,n,r){var i,o,a;return function(){var s,l=r(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=l+"",s===c?null:s===i&&c===o?a:(o=c,a=n(i=s,l)))}}function Bs(e,n){var r=Ue(e),i=r==="transform"?vo:oi;return this.attrTween(e,typeof n=="function"?(r.local?Gs:Ws)(r,i,Tn(this,"attr."+e,n)):n==null?(r.local?Hs:Us)(r):(r.local?Vs:qs)(r,i,n))}function Xs(e,n){return function(r){this.setAttribute(e,n.call(this,r))}}function Ys(e,n){return function(r){this.setAttributeNS(e.space,e.local,n.call(this,r))}}function Zs(e,n){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&Ys(e,a)),r}return o._value=n,o}function Ks(e,n){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&Xs(e,a)),r}return o._value=n,o}function Qs(e,n){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var i=Ue(e);return this.tween(r,(i.local?Zs:Ks)(i,n))}function Js(e,n){return function(){Nn(this,e).delay=+n.apply(this,arguments)}}function tl(e,n){return n=+n,function(){Nn(this,e).delay=n}}function el(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?Js:tl)(n,e)):wt(this.node(),n).delay}function nl(e,n){return function(){Nt(this,e).duration=+n.apply(this,arguments)}}function rl(e,n){return n=+n,function(){Nt(this,e).duration=n}}function il(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?nl:rl)(n,e)):wt(this.node(),n).duration}function ol(e,n){if(typeof n!="function")throw new Error;return function(){Nt(this,e).ease=n}}function al(e){var n=this._id;return arguments.length?this.each(ol(n,e)):wt(this.node(),n).ease}function sl(e,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;Nt(this,e).ease=r}}function ll(e){if(typeof e!="function")throw new Error;return this.each(sl(this._id,e))}function ul(e){typeof e!="function"&&(e=Vr(e));for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a=n[o],s=a.length,l=i[o]=[],c,u=0;u<s;++u)(c=a[u])&&e.call(c,c.__data__,u,a)&&l.push(c);return new Dt(i,this._parents,this._name,this._id)}function cl(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c=n[l],u=r[l],h=c.length,f=s[l]=new Array(h),d,p=0;p<h;++p)(d=c[p]||u[p])&&(f[p]=d);for(;l<i;++l)s[l]=n[l];return new Dt(s,this._parents,this._name,this._id)}function fl(e){return(e+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function hl(e,n,r){var i,o,a=fl(n)?Nn:Nt;return function(){var s=a(this,e),l=s.on;l!==i&&(o=(i=l).copy()).on(n,r),s.on=o}}function dl(e,n){var r=this._id;return arguments.length<2?wt(this.node(),r).on.on(e):this.each(hl(r,e,n))}function pl(e){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==e)return;n&&n.removeChild(this)}}function gl(){return this.on("end.remove",pl(this._id))}function yl(e){var n=this._name,r=this._id;typeof e!="function"&&(e=kn(e));for(var i=this._groups,o=i.length,a=new Array(o),s=0;s<o;++s)for(var l=i[s],c=l.length,u=a[s]=new Array(c),h,f,d=0;d<c;++d)(h=l[d])&&(f=e.call(h,h.__data__,d,l))&&("__data__"in h&&(f.__data__=h.__data__),u[d]=f,qe(u[d],n,r,d,u,wt(h,r)));return new Dt(a,this._parents,n,r)}function ml(e){var n=this._name,r=this._id;typeof e!="function"&&(e=qr(e));for(var i=this._groups,o=i.length,a=[],s=[],l=0;l<o;++l)for(var c=i[l],u=c.length,h,f=0;f<u;++f)if(h=c[f]){for(var d=e.call(h,h.__data__,f,c),p,y=wt(h,r),_=0,m=d.length;_<m;++_)(p=d[_])&&qe(p,n,r,_,d,y);a.push(d),s.push(h)}return new Dt(a,s,n,r)}var vl=me.prototype.constructor;function _l(){return new vl(this._groups,this._parents)}function xl(e,n){var r,i,o;return function(){var a=Yt(this,e),s=(this.style.removeProperty(e),Yt(this,e));return a===s?null:a===r&&s===i?o:o=n(r=a,i=s)}}function ai(e){return function(){this.style.removeProperty(e)}}function bl(e,n,r){var i,o=r+"",a;return function(){var s=Yt(this,e);return s===o?null:s===i?a:a=n(i=s,r)}}function wl(e,n,r){var i,o,a;return function(){var s=Yt(this,e),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),Yt(this,e))),s===c?null:s===i&&c===o?a:(o=c,a=n(i=s,l))}}function kl(e,n){var r,i,o,a="style."+n,s="end."+a,l;return function(){var c=Nt(this,e),u=c.on,h=c.value[a]==null?l||(l=ai(n)):void 0;(u!==r||o!==h)&&(i=(r=u).copy()).on(s,o=h),c.on=i}}function Al(e,n,r){var i=(e+="")=="transform"?mo:oi;return n==null?this.styleTween(e,xl(e,i)).on("end.style."+e,ai(e)):typeof n=="function"?this.styleTween(e,wl(e,i,Tn(this,"style."+e,n))).each(kl(this._id,e)):this.styleTween(e,bl(e,i,n),r).on("end.style."+e,null)}function Sl(e,n,r){return function(i){this.style.setProperty(e,n.call(this,i),r)}}function Cl(e,n,r){var i,o;function a(){var s=n.apply(this,arguments);return s!==o&&(i=(o=s)&&Sl(e,s,r)),i}return a._value=n,a}function Nl(e,n,r){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,Cl(e,n,r??""))}function Tl(e){return function(){this.textContent=e}}function jl(e){return function(){var n=e(this);this.textContent=n??""}}function Ml(e){return this.tween("text",typeof e=="function"?jl(Tn(this,"text",e)):Tl(e==null?"":e+""))}function Pl(e){return function(n){this.textContent=e.call(this,n)}}function Ol(e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Pl(o)),n}return i._value=e,i}function El(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,Ol(e))}function zl(){for(var e=this._name,n=this._id,r=si(),i=this._groups,o=i.length,a=0;a<o;++a)for(var s=i[a],l=s.length,c,u=0;u<l;++u)if(c=s[u]){var h=wt(c,n);qe(c,e,r,u,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Dt(i,this._parents,e,r)}function Rl(){var e,n,r=this,i=r._id,o=r.size();return new Promise(function(a,s){var l={value:s},c={value:function(){--o===0&&a()}};r.each(function(){var u=Nt(this,i),h=u.on;h!==e&&(n=(e=h).copy(),n._.cancel.push(l),n._.interrupt.push(l),n._.end.push(c)),u.on=n}),o===0&&a()})}var Dl=0;function Dt(e,n,r,i){this._groups=e,this._parents=n,this._name=r,this._id=i}function si(){return++Dl}var Tt=me.prototype;Dt.prototype={constructor:Dt,select:yl,selectAll:ml,selectChild:Tt.selectChild,selectChildren:Tt.selectChildren,filter:ul,merge:cl,selection:_l,transition:zl,call:Tt.call,nodes:Tt.nodes,node:Tt.node,size:Tt.size,empty:Tt.empty,each:Tt.each,on:dl,attr:Bs,attrTween:Qs,style:Al,styleTween:Nl,text:Ml,textTween:El,remove:gl,tween:Ls,delay:el,duration:il,ease:al,easeVarying:ll,end:Rl,[Symbol.iterator]:Tt[Symbol.iterator]};function Il(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var $l={time:null,delay:0,duration:250,ease:Il};function Fl(e,n){for(var r;!(r=e.__transition)||!(r=r[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return r}function Ll(e){var n,r;e instanceof Dt?(n=e._id,e=e._name):(n=si(),(r=$l).time=Sn(),e=e==null?null:e+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var s=i[a],l=s.length,c,u=0;u<l;++u)(c=s[u])&&qe(c,e,n,u,s,r||Fl(c,n));return new Dt(i,this._parents,e,n)}me.prototype.interrupt=Is;me.prototype.transition=Ll;const ke=e=>()=>e;function Ul(e,{sourceEvent:n,target:r,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Et(e,n,r){this.k=e,this.x=n,this.y=r}Et.prototype={constructor:Et,scale:function(e){return e===1?this:new Et(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new Et(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var jn=new Et(1,0,0);kt.prototype=Et.prototype;function kt(e){for(;!e.__zoom;)if(!(e=e.parentNode))return jn;return e.__zoom}function Ze(e){e.stopImmediatePropagation()}function Jt(e){e.preventDefault(),e.stopImmediatePropagation()}function Hl(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function ql(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function rr(){return this.__zoom||jn}function Vl(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Wl(){return navigator.maxTouchPoints||"ontouchstart"in this}function Gl(e,n,r){var i=e.invertX(n[0][0])-r[0][0],o=e.invertX(n[1][0])-r[1][0],a=e.invertY(n[0][1])-r[0][1],s=e.invertY(n[1][1])-r[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function Bl(){var e=Hl,n=ql,r=Gl,i=Vl,o=Wl,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,c=wo,u=ve("start","zoom","end"),h,f,d,p=500,y=150,_=0,m=10;function g(C){C.property("__zoom",rr).on("wheel.zoom",j,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",P).filter(o).on("touchstart.zoom",z).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(C,E,M,$){var L=C.selection?C.selection():C;L.property("__zoom",rr),C!==L?b(C,E,M,$):L.interrupt().each(function(){A(this,arguments).event($).start().zoom(null,typeof E=="function"?E.apply(this,arguments):E).end()})},g.scaleBy=function(C,E,M,$){g.scaleTo(C,function(){var L=this.__zoom.k,H=typeof E=="function"?E.apply(this,arguments):E;return L*H},M,$)},g.scaleTo=function(C,E,M,$){g.transform(C,function(){var L=n.apply(this,arguments),H=this.__zoom,q=M==null?x(L):typeof M=="function"?M.apply(this,arguments):M,V=H.invert(q),G=typeof E=="function"?E.apply(this,arguments):E;return r(N(k(H,G),q,V),L,s)},M,$)},g.translateBy=function(C,E,M,$){g.transform(C,function(){return r(this.__zoom.translate(typeof E=="function"?E.apply(this,arguments):E,typeof M=="function"?M.apply(this,arguments):M),n.apply(this,arguments),s)},null,$)},g.translateTo=function(C,E,M,$,L){g.transform(C,function(){var H=n.apply(this,arguments),q=this.__zoom,V=$==null?x(H):typeof $=="function"?$.apply(this,arguments):$;return r(jn.translate(V[0],V[1]).scale(q.k).translate(typeof E=="function"?-E.apply(this,arguments):-E,typeof M=="function"?-M.apply(this,arguments):-M),H,s)},$,L)};function k(C,E){return E=Math.max(a[0],Math.min(a[1],E)),E===C.k?C:new Et(E,C.x,C.y)}function N(C,E,M){var $=E[0]-M[0]*C.k,L=E[1]-M[1]*C.k;return $===C.x&&L===C.y?C:new Et(C.k,$,L)}function x(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function b(C,E,M,$){C.on("start.zoom",function(){A(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event($).end()}).tween("zoom",function(){var L=this,H=arguments,q=A(L,H).event($),V=n.apply(L,H),G=M==null?x(V):typeof M=="function"?M.apply(L,H):M,rt=Math.max(V[1][0]-V[0][0],V[1][1]-V[0][1]),nt=L.__zoom,ct=typeof E=="function"?E.apply(L,H):E,ht=c(nt.invert(G).concat(rt/nt.k),ct.invert(G).concat(rt/ct.k));return function(dt){if(dt===1)dt=ct;else{var S=ht(dt),I=rt/S[2];dt=new Et(I,G[0]-S[0]*I,G[1]-S[1]*I)}q.zoom(null,dt)}})}function A(C,E,M){return!M&&C.__zooming||new T(C,E)}function T(C,E){this.that=C,this.args=E,this.active=0,this.sourceEvent=null,this.extent=n.apply(C,E),this.taps=0}T.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,E){return this.mouse&&C!=="mouse"&&(this.mouse[1]=E.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=E.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=E.invert(this.touch1[0])),this.that.__zoom=E,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var E=vt(this.that).datum();u.call(C,this.that,new Ul(C,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),E)}};function j(C,...E){if(!e.apply(this,arguments))return;var M=A(this,E).event(C),$=this.__zoom,L=Math.max(a[0],Math.min(a[1],$.k*Math.pow(2,i.apply(this,arguments)))),H=At(C);if(M.wheel)(M.mouse[0][0]!==H[0]||M.mouse[0][1]!==H[1])&&(M.mouse[1]=$.invert(M.mouse[0]=H)),clearTimeout(M.wheel);else{if($.k===L)return;M.mouse=[H,$.invert(H)],je(this),M.start()}Jt(C),M.wheel=setTimeout(q,y),M.zoom("mouse",r(N(k($,L),M.mouse[0],M.mouse[1]),M.extent,s));function q(){M.wheel=null,M.end()}}function R(C,...E){if(d||!e.apply(this,arguments))return;var M=C.currentTarget,$=A(this,E,!0).event(C),L=vt(C.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",rt,!0),H=At(C,M),q=C.clientX,V=C.clientY;ti(C.view),Ze(C),$.mouse=[H,this.__zoom.invert(H)],je(this),$.start();function G(nt){if(Jt(nt),!$.moved){var ct=nt.clientX-q,ht=nt.clientY-V;$.moved=ct*ct+ht*ht>_}$.event(nt).zoom("mouse",r(N($.that.__zoom,$.mouse[0]=At(nt,M),$.mouse[1]),$.extent,s))}function rt(nt){L.on("mousemove.zoom mouseup.zoom",null),ei(nt.view,$.moved),Jt(nt),$.event(nt).end()}}function P(C,...E){if(e.apply(this,arguments)){var M=this.__zoom,$=At(C.changedTouches?C.changedTouches[0]:C,this),L=M.invert($),H=M.k*(C.shiftKey?.5:2),q=r(N(k(M,H),$,L),n.apply(this,E),s);Jt(C),l>0?vt(this).transition().duration(l).call(b,q,$,C):vt(this).call(g.transform,q,$,C)}}function z(C,...E){if(e.apply(this,arguments)){var M=C.touches,$=M.length,L=A(this,E,C.changedTouches.length===$).event(C),H,q,V,G;for(Ze(C),q=0;q<$;++q)V=M[q],G=At(V,this),G=[G,this.__zoom.invert(G),V.identifier],L.touch0?!L.touch1&&L.touch0[2]!==G[2]&&(L.touch1=G,L.taps=0):(L.touch0=G,H=!0,L.taps=1+!!h);h&&(h=clearTimeout(h)),H&&(L.taps<2&&(f=G[0],h=setTimeout(function(){h=null},p)),je(this),L.start())}}function D(C,...E){if(this.__zooming){var M=A(this,E).event(C),$=C.changedTouches,L=$.length,H,q,V,G;for(Jt(C),H=0;H<L;++H)q=$[H],V=At(q,this),M.touch0&&M.touch0[2]===q.identifier?M.touch0[0]=V:M.touch1&&M.touch1[2]===q.identifier&&(M.touch1[0]=V);if(q=M.that.__zoom,M.touch1){var rt=M.touch0[0],nt=M.touch0[1],ct=M.touch1[0],ht=M.touch1[1],dt=(dt=ct[0]-rt[0])*dt+(dt=ct[1]-rt[1])*dt,S=(S=ht[0]-nt[0])*S+(S=ht[1]-nt[1])*S;q=k(q,Math.sqrt(dt/S)),V=[(rt[0]+ct[0])/2,(rt[1]+ct[1])/2],G=[(nt[0]+ht[0])/2,(nt[1]+ht[1])/2]}else if(M.touch0)V=M.touch0[0],G=M.touch0[1];else return;M.zoom("touch",r(N(q,V,G),M.extent,s))}}function U(C,...E){if(this.__zooming){var M=A(this,E).event(C),$=C.changedTouches,L=$.length,H,q;for(Ze(C),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),H=0;H<L;++H)q=$[H],M.touch0&&M.touch0[2]===q.identifier?delete M.touch0:M.touch1&&M.touch1[2]===q.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(q=At(q,this),Math.hypot(f[0]-q[0],f[1]-q[1])<m)){var V=vt(this).on("dblclick.zoom");V&&V.apply(this,arguments)}}}return g.wheelDelta=function(C){return arguments.length?(i=typeof C=="function"?C:ke(+C),g):i},g.filter=function(C){return arguments.length?(e=typeof C=="function"?C:ke(!!C),g):e},g.touchable=function(C){return arguments.length?(o=typeof C=="function"?C:ke(!!C),g):o},g.extent=function(C){return arguments.length?(n=typeof C=="function"?C:ke([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),g):n},g.scaleExtent=function(C){return arguments.length?(a[0]=+C[0],a[1]=+C[1],g):[a[0],a[1]]},g.translateExtent=function(C){return arguments.length?(s[0][0]=+C[0][0],s[1][0]=+C[1][0],s[0][1]=+C[0][1],s[1][1]=+C[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(C){return arguments.length?(r=C,g):r},g.duration=function(C){return arguments.length?(l=+C,g):l},g.interpolate=function(C){return arguments.length?(c=C,g):c},g.on=function(){var C=u.on.apply(u,arguments);return C===u?g:C},g.clickDistance=function(C){return arguments.length?(_=(C=+C)*C,g):Math.sqrt(_)},g.tapDistance=function(C){return arguments.length?(m=+C,g):m},g}var Xl=typeof global=="object"&&global&&global.Object===Object&&global,Yl=typeof self=="object"&&self&&self.Object===Object&&self,li=Xl||Yl||Function("return this")(),Re=li.Symbol,ui=Object.prototype,Zl=ui.hasOwnProperty,Kl=ui.toString,te=Re?Re.toStringTag:void 0;function Ql(e){var n=Zl.call(e,te),r=e[te];try{e[te]=void 0;var i=!0}catch{}var o=Kl.call(e);return i&&(n?e[te]=r:delete e[te]),o}var Jl=Object.prototype,tu=Jl.toString;function eu(e){return tu.call(e)}var nu="[object Null]",ru="[object Undefined]",ir=Re?Re.toStringTag:void 0;function iu(e){return e==null?e===void 0?ru:nu:ir&&ir in Object(e)?Ql(e):eu(e)}function ou(e){return e!=null&&typeof e=="object"}var au="[object Symbol]";function su(e){return typeof e=="symbol"||ou(e)&&iu(e)==au}var lu=/\s/;function uu(e){for(var n=e.length;n--&&lu.test(e.charAt(n)););return n}var cu=/^\s+/;function fu(e){return e&&e.slice(0,uu(e)+1).replace(cu,"")}function De(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var or=NaN,hu=/^[-+]0x[0-9a-f]+$/i,du=/^0b[01]+$/i,pu=/^0o[0-7]+$/i,gu=parseInt;function ar(e){if(typeof e=="number")return e;if(su(e))return or;if(De(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=De(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=fu(e);var r=du.test(e);return r||pu.test(e)?gu(e.slice(2),r?2:8):hu.test(e)?or:+e}var Ke=function(){return li.Date.now()},yu="Expected a function",mu=Math.max,vu=Math.min;function ci(e,n,r){var i,o,a,s,l,c,u=0,h=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(yu);n=ar(n)||0,De(r)&&(h=!!r.leading,f="maxWait"in r,a=f?mu(ar(r.maxWait)||0,n):a,d="trailing"in r?!!r.trailing:d);function p(A){var T=i,j=o;return i=o=void 0,u=A,s=e.apply(j,T),s}function y(A){return u=A,l=setTimeout(g,n),h?p(A):s}function _(A){var T=A-c,j=A-u,R=n-T;return f?vu(R,a-j):R}function m(A){var T=A-c,j=A-u;return c===void 0||T>=n||T<0||f&&j>=a}function g(){var A=Ke();if(m(A))return k(A);l=setTimeout(g,_(A))}function k(A){return l=void 0,d&&i?p(A):(i=o=void 0,s)}function N(){l!==void 0&&clearTimeout(l),u=0,i=c=o=l=void 0}function x(){return l===void 0?s:k(Ke())}function b(){var A=Ke(),T=m(A);if(i=arguments,o=this,c=A,T){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(g,n),p(c)}return l===void 0&&(l=setTimeout(g,n)),s}return b.cancel=N,b.flush=x,b}var _u="Expected a function";function xu(e,n,r){var i=!0,o=!0;if(typeof e!="function")throw new TypeError(_u);return De(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),ci(e,n,{leading:i,maxWait:n,trailing:o})}var qt=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var n=1.70158;return e===1?1:e*e*((n+1)*e-n)},Out:function(e){var n=1.70158;return e===0?0:--e*e*((n+1)*e+n)+1},InOut:function(e){var n=2.5949095;return(e*=2)<1?.5*(e*e*((n+1)*e-n)):.5*((e-=2)*e*((n+1)*e+n)+2)}}),Bounce:Object.freeze({In:function(e){return 1-qt.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?qt.Bounce.In(e*2)*.5:qt.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(n){return Math.pow(n,e)},Out:function(n){return 1-Math.pow(1-n,e)},InOut:function(n){return n<.5?Math.pow(n*2,e)/2:(1-Math.pow(2-n*2,e))/2+.5}}}}),le=function(){return performance.now()},fi=function(){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,n)}return e.prototype.getAll=function(){var n=this;return Object.keys(this._tweens).map(function(r){return n._tweens[r]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];(n=s._group)===null||n===void 0||n.remove(s),s._group=this,this._tweens[s.getId()]=s,this._tweensAddedDuringUpdate[s.getId()]=s}},e.prototype.remove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];a._group=void 0,delete this._tweens[a.getId()],delete this._tweensAddedDuringUpdate[a.getId()]}},e.prototype.allStopped=function(){return this.getAll().every(function(n){return!n.isPlaying()})},e.prototype.update=function(n,r){n===void 0&&(n=le()),r===void 0&&(r=!0);var i=Object.keys(this._tweens);if(i.length!==0)for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<i.length;o++){var a=this._tweens[i[o]],s=!r;a&&a.update(n,s)===!1&&!r&&this.remove(a)}i=Object.keys(this._tweensAddedDuringUpdate)}},e}(),fn={Linear:function(e,n){var r=e.length-1,i=r*n,o=Math.floor(i),a=fn.Utils.Linear;return n<0?a(e[0],e[1],i):n>1?a(e[r],e[r-1],r-i):a(e[o],e[o+1>r?r:o+1],i-o)},Utils:{Linear:function(e,n,r){return(n-e)*r+e}}},hi=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),hn=new fi,sr=function(){function e(n,r){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=qt.Linear.None,this._interpolationFunction=fn.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=hi.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=n,typeof r=="object"?(this._group=r,r.add(this)):r===!0&&(this._group=hn,hn.add(this))}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(n,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=n,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},e.prototype.duration=function(n){return n===void 0&&(n=1e3),this._duration=n<0?0:n,this},e.prototype.dynamic=function(n){return n===void 0&&(n=!1),this._isDynamic=n,this},e.prototype.start=function(n,r){if(n===void 0&&(n=le()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=n,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var o={};for(var a in this._valuesEnd)o[a]=this._valuesEnd[a];this._valuesEnd=o}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},e.prototype.startFromCurrentValues=function(n){return this.start(n,!0)},e.prototype._setupProperties=function(n,r,i,o,a){for(var s in i){var l=n[s],c=Array.isArray(l),u=c?"array":typeof l,h=!c&&Array.isArray(i[s]);if(!(u==="undefined"||u==="function")){if(h){var f=i[s];if(f.length===0)continue;for(var d=[l],p=0,y=f.length;p<y;p+=1){var _=this._handleRelativeValue(l,f[p]);if(isNaN(_)){h=!1,console.warn("Found invalid interpolation list. Skipping.");break}d.push(_)}h&&(i[s]=d)}if((u==="object"||c)&&l&&!h){r[s]=c?[]:{};var m=l;for(var g in m)r[s][g]=m[g];o[s]=c?[]:{};var f=i[s];if(!this._isDynamic){var k={};for(var g in f)k[g]=f[g];i[s]=f=k}this._setupProperties(m,r[s],f,o[s],a)}else(typeof r[s]>"u"||a)&&(r[s]=l),c||(r[s]*=1),h?o[s]=i[s].slice().reverse():o[s]=r[s]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},e.prototype.pause=function(n){return n===void 0&&(n=le()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=n,this)},e.prototype.resume=function(n){return n===void 0&&(n=le()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=n-this._pauseStart,this._pauseStart=0,this)},e.prototype.stopChainedTweens=function(){for(var n=0,r=this._chainedTweens.length;n<r;n++)this._chainedTweens[n].stop();return this},e.prototype.group=function(n){return n?(n.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},e.prototype.remove=function(){var n;return(n=this._group)===null||n===void 0||n.remove(this),this},e.prototype.delay=function(n){return n===void 0&&(n=0),this._delayTime=n,this},e.prototype.repeat=function(n){return n===void 0&&(n=0),this._initialRepeat=n,this._repeat=n,this},e.prototype.repeatDelay=function(n){return this._repeatDelayTime=n,this},e.prototype.yoyo=function(n){return n===void 0&&(n=!1),this._yoyo=n,this},e.prototype.easing=function(n){return n===void 0&&(n=qt.Linear.None),this._easingFunction=n,this},e.prototype.interpolation=function(n){return n===void 0&&(n=fn.Linear),this._interpolationFunction=n,this},e.prototype.chain=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return this._chainedTweens=n,this},e.prototype.onStart=function(n){return this._onStartCallback=n,this},e.prototype.onEveryStart=function(n){return this._onEveryStartCallback=n,this},e.prototype.onUpdate=function(n){return this._onUpdateCallback=n,this},e.prototype.onRepeat=function(n){return this._onRepeatCallback=n,this},e.prototype.onComplete=function(n){return this._onCompleteCallback=n,this},e.prototype.onStop=function(n){return this._onStopCallback=n,this},e.prototype.update=function(n,r){var i=this,o;if(n===void 0&&(n=le()),r===void 0&&(r=e.autoStartOnUpdate),this._isPaused)return!0;var a;if(!this._goToEnd&&!this._isPlaying)if(r)this.start(n,!0);else return!1;if(this._goToEnd=!1,n<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var s=n-this._startTime,l=this._duration+((o=this._repeatDelayTime)!==null&&o!==void 0?o:this._delayTime),c=this._duration+this._repeat*l,u=function(){if(i._duration===0||s>c)return 1;var _=Math.trunc(s/l),m=s-_*l,g=Math.min(m/i._duration,1);return g===0&&s===i._duration?1:g},h=u(),f=this._easingFunction(h);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,f),this._onUpdateCallback&&this._onUpdateCallback(this._object,h),this._duration===0||s>=this._duration)if(this._repeat>0){var d=Math.min(Math.trunc((s-this._duration)/l)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=d);for(a in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[a]=="string"&&(this._valuesStartRepeat[a]=this._valuesStartRepeat[a]+parseFloat(this._valuesEnd[a])),this._yoyo&&this._swapEndStartRepeatValues(a),this._valuesStart[a]=this._valuesStartRepeat[a];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=l*d,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var p=0,y=this._chainedTweens.length;p<y;p++)this._chainedTweens[p].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(n,r,i,o){for(var a in i)if(r[a]!==void 0){var s=r[a]||0,l=i[a],c=Array.isArray(n[a]),u=Array.isArray(l),h=!c&&u;h?n[a]=this._interpolationFunction(l,o):typeof l=="object"&&l?this._updateProperties(n[a],s,l,o):(l=this._handleRelativeValue(s,l),typeof l=="number"&&(n[a]=s+(l-s)*o))}},e.prototype._handleRelativeValue=function(n,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?n+parseFloat(r):parseFloat(r)},e.prototype._swapEndStartRepeatValues=function(n){var r=this._valuesStartRepeat[n],i=this._valuesEnd[n];typeof i=="string"?this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(i):this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=r},e.autoStartOnUpdate=!1,e}();hi.nextId;var Ct=hn;Ct.getAll.bind(Ct);Ct.removeAll.bind(Ct);Ct.add.bind(Ct);Ct.remove.bind(Ct);Ct.update.bind(Ct);function lr(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function bu(e){if(Array.isArray(e))return e}function wu(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ku(e,n,r){return Object.defineProperty(e,"prototype",{writable:!1}),e}function Au(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(c=(i=a.call(r)).done)&&(l.push(i.value),l.length!==n);c=!0);}catch(h){u=!0,o=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw o}}return l}}function Su(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cu(e,n){return bu(e)||Au(e,n)||Nu(e,n)||Su()}function Nu(e,n){if(e){if(typeof e=="string")return lr(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lr(e,n):void 0}}var Tu=ku(function e(n,r){var i=r.default,o=i===void 0?null:i,a=r.triggerUpdate,s=a===void 0?!0:a,l=r.onChange,c=l===void 0?function(u,h){}:l;wu(this,e),this.name=n,this.defaultVal=o,this.triggerUpdate=s,this.onChange=c});function Mn(e){var n=e.stateInit,r=n===void 0?function(){return{}}:n,i=e.props,o=i===void 0?{}:i,a=e.methods,s=a===void 0?{}:a,l=e.aliases,c=l===void 0?{}:l,u=e.init,h=u===void 0?function(){}:u,f=e.update,d=f===void 0?function(){}:f,p=Object.keys(o).map(function(y){return new Tu(y,o[y])});return function y(){for(var _=arguments.length,m=new Array(_),g=0;g<_;g++)m[g]=arguments[g];var k=!!(this instanceof y&&this.constructor),N=k?m.shift():void 0,x=m[0],b=x===void 0?{}:x,A=Object.assign({},r instanceof Function?r(b):r,{initialised:!1}),T={};function j(z){return R(z,b),P(),j}var R=function(D,U){h.call(j,D,A,U),A.initialised=!0},P=ci(function(){A.initialised&&(d.call(j,A,T),T={})},1);return p.forEach(function(z){j[z.name]=D(z);function D(U){var C=U.name,E=U.triggerUpdate,M=E===void 0?!1:E,$=U.onChange,L=$===void 0?function(V,G){}:$,H=U.defaultVal,q=H===void 0?null:H;return function(V){var G=A[C];if(!arguments.length)return G;var rt=V===void 0?q:V;return A[C]=rt,L.call(j,rt,A,G),!T.hasOwnProperty(C)&&(T[C]=G),M&&P(),j}}}),Object.keys(s).forEach(function(z){j[z]=function(){for(var D,U=arguments.length,C=new Array(U),E=0;E<U;E++)C[E]=arguments[E];return(D=s[z]).call.apply(D,[j,A].concat(C))}}),Object.entries(c).forEach(function(z){var D=Cu(z,2),U=D[0],C=D[1];return j[U]=j[C]}),j.resetProps=function(){return p.forEach(function(z){j[z.name](z.defaultVal)}),j},j.resetProps(),A._rerender=P,k&&N&&j(N),j}}var Z=function(e){return typeof e=="function"?e:typeof e=="string"?function(n){return n[e]}:function(n){return e}};function Ie(e){"@babel/helpers - typeof";return Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ie(e)}var ju=/^\s+/,Mu=/\s+$/;function F(e,n){if(e=e||"",n=n||{},e instanceof F)return e;if(!(this instanceof F))return new F(e,n);var r=Pu(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=n.format||r.format,this._gradientType=n.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}F.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},getLuminance:function(){var n=this.toRgb(),r,i,o,a,s,l;return r=n.r/255,i=n.g/255,o=n.b/255,r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),o<=.03928?l=o/12.92:l=Math.pow((o+.055)/1.055,2.4),.2126*a+.7152*s+.0722*l},setAlpha:function(n){return this._a=di(n),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var n=cr(this._r,this._g,this._b);return{h:n.h*360,s:n.s,v:n.v,a:this._a}},toHsvString:function(){var n=cr(this._r,this._g,this._b),r=Math.round(n.h*360),i=Math.round(n.s*100),o=Math.round(n.v*100);return this._a==1?"hsv("+r+", "+i+"%, "+o+"%)":"hsva("+r+", "+i+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var n=ur(this._r,this._g,this._b);return{h:n.h*360,s:n.s,l:n.l,a:this._a}},toHslString:function(){var n=ur(this._r,this._g,this._b),r=Math.round(n.h*360),i=Math.round(n.s*100),o=Math.round(n.l*100);return this._a==1?"hsl("+r+", "+i+"%, "+o+"%)":"hsla("+r+", "+i+"%, "+o+"%, "+this._roundA+")"},toHex:function(n){return fr(this._r,this._g,this._b,n)},toHexString:function(n){return"#"+this.toHex(n)},toHex8:function(n){return Ru(this._r,this._g,this._b,this._a,n)},toHex8String:function(n){return"#"+this.toHex8(n)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(tt(this._r,255)*100)+"%",g:Math.round(tt(this._g,255)*100)+"%",b:Math.round(tt(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(tt(this._r,255)*100)+"%, "+Math.round(tt(this._g,255)*100)+"%, "+Math.round(tt(this._b,255)*100)+"%)":"rgba("+Math.round(tt(this._r,255)*100)+"%, "+Math.round(tt(this._g,255)*100)+"%, "+Math.round(tt(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Bu[fr(this._r,this._g,this._b,!0)]||!1},toFilter:function(n){var r="#"+hr(this._r,this._g,this._b,this._a),i=r,o=this._gradientType?"GradientType = 1, ":"";if(n){var a=F(n);i="#"+hr(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+r+",endColorstr="+i+")"},toString:function(n){var r=!!n;n=n||this._format;var i=!1,o=this._a<1&&this._a>=0,a=!r&&o&&(n==="hex"||n==="hex6"||n==="hex3"||n==="hex4"||n==="hex8"||n==="name");return a?n==="name"&&this._a===0?this.toName():this.toRgbString():(n==="rgb"&&(i=this.toRgbString()),n==="prgb"&&(i=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(i=this.toHexString()),n==="hex3"&&(i=this.toHexString(!0)),n==="hex4"&&(i=this.toHex8String(!0)),n==="hex8"&&(i=this.toHex8String()),n==="name"&&(i=this.toName()),n==="hsl"&&(i=this.toHslString()),n==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return F(this.toString())},_applyModification:function(n,r){var i=n.apply(null,[this].concat([].slice.call(r)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(Fu,arguments)},brighten:function(){return this._applyModification(Lu,arguments)},darken:function(){return this._applyModification(Uu,arguments)},desaturate:function(){return this._applyModification(Du,arguments)},saturate:function(){return this._applyModification(Iu,arguments)},greyscale:function(){return this._applyModification($u,arguments)},spin:function(){return this._applyModification(Hu,arguments)},_applyCombination:function(n,r){return n.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(Wu,arguments)},complement:function(){return this._applyCombination(qu,arguments)},monochromatic:function(){return this._applyCombination(Gu,arguments)},splitcomplement:function(){return this._applyCombination(Vu,arguments)},triad:function(){return this._applyCombination(dr,[3])},tetrad:function(){return this._applyCombination(dr,[4])}};F.fromRatio=function(e,n){if(Ie(e)=="object"){var r={};for(var i in e)e.hasOwnProperty(i)&&(i==="a"?r[i]=e[i]:r[i]=ue(e[i]));e=r}return F(e,n)};function Pu(e){var n={r:0,g:0,b:0},r=1,i=null,o=null,a=null,s=!1,l=!1;return typeof e=="string"&&(e=Ku(e)),Ie(e)=="object"&&(jt(e.r)&&jt(e.g)&&jt(e.b)?(n=Ou(e.r,e.g,e.b),s=!0,l=String(e.r).substr(-1)==="%"?"prgb":"rgb"):jt(e.h)&&jt(e.s)&&jt(e.v)?(i=ue(e.s),o=ue(e.v),n=zu(e.h,i,o),s=!0,l="hsv"):jt(e.h)&&jt(e.s)&&jt(e.l)&&(i=ue(e.s),a=ue(e.l),n=Eu(e.h,i,a),s=!0,l="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=di(r),{ok:s,format:e.format||l,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}function Ou(e,n,r){return{r:tt(e,255)*255,g:tt(n,255)*255,b:tt(r,255)*255}}function ur(e,n,r){e=tt(e,255),n=tt(n,255),r=tt(r,255);var i=Math.max(e,n,r),o=Math.min(e,n,r),a,s,l=(i+o)/2;if(i==o)a=s=0;else{var c=i-o;switch(s=l>.5?c/(2-i-o):c/(i+o),i){case e:a=(n-r)/c+(n<r?6:0);break;case n:a=(r-e)/c+2;break;case r:a=(e-n)/c+4;break}a/=6}return{h:a,s,l}}function Eu(e,n,r){var i,o,a;e=tt(e,360),n=tt(n,100),r=tt(r,100);function s(u,h,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?u+(h-u)*6*f:f<1/2?h:f<2/3?u+(h-u)*(2/3-f)*6:u}if(n===0)i=o=a=r;else{var l=r<.5?r*(1+n):r+n-r*n,c=2*r-l;i=s(c,l,e+1/3),o=s(c,l,e),a=s(c,l,e-1/3)}return{r:i*255,g:o*255,b:a*255}}function cr(e,n,r){e=tt(e,255),n=tt(n,255),r=tt(r,255);var i=Math.max(e,n,r),o=Math.min(e,n,r),a,s,l=i,c=i-o;if(s=i===0?0:c/i,i==o)a=0;else{switch(i){case e:a=(n-r)/c+(n<r?6:0);break;case n:a=(r-e)/c+2;break;case r:a=(e-n)/c+4;break}a/=6}return{h:a,s,v:l}}function zu(e,n,r){e=tt(e,360)*6,n=tt(n,100),r=tt(r,100);var i=Math.floor(e),o=e-i,a=r*(1-n),s=r*(1-o*n),l=r*(1-(1-o)*n),c=i%6,u=[r,s,a,a,l,r][c],h=[l,r,r,s,a,a][c],f=[a,a,l,r,r,s][c];return{r:u*255,g:h*255,b:f*255}}function fr(e,n,r,i){var o=[bt(Math.round(e).toString(16)),bt(Math.round(n).toString(16)),bt(Math.round(r).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function Ru(e,n,r,i,o){var a=[bt(Math.round(e).toString(16)),bt(Math.round(n).toString(16)),bt(Math.round(r).toString(16)),bt(pi(i))];return o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function hr(e,n,r,i){var o=[bt(pi(i)),bt(Math.round(e).toString(16)),bt(Math.round(n).toString(16)),bt(Math.round(r).toString(16))];return o.join("")}F.equals=function(e,n){return!e||!n?!1:F(e).toRgbString()==F(n).toRgbString()};F.random=function(){return F.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Du(e,n){n=n===0?0:n||10;var r=F(e).toHsl();return r.s-=n/100,r.s=Ve(r.s),F(r)}function Iu(e,n){n=n===0?0:n||10;var r=F(e).toHsl();return r.s+=n/100,r.s=Ve(r.s),F(r)}function $u(e){return F(e).desaturate(100)}function Fu(e,n){n=n===0?0:n||10;var r=F(e).toHsl();return r.l+=n/100,r.l=Ve(r.l),F(r)}function Lu(e,n){n=n===0?0:n||10;var r=F(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(n/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(n/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(n/100)))),F(r)}function Uu(e,n){n=n===0?0:n||10;var r=F(e).toHsl();return r.l-=n/100,r.l=Ve(r.l),F(r)}function Hu(e,n){var r=F(e).toHsl(),i=(r.h+n)%360;return r.h=i<0?360+i:i,F(r)}function qu(e){var n=F(e).toHsl();return n.h=(n.h+180)%360,F(n)}function dr(e,n){if(isNaN(n)||n<=0)throw new Error("Argument to polyad must be a positive number");for(var r=F(e).toHsl(),i=[F(e)],o=360/n,a=1;a<n;a++)i.push(F({h:(r.h+a*o)%360,s:r.s,l:r.l}));return i}function Vu(e){var n=F(e).toHsl(),r=n.h;return[F(e),F({h:(r+72)%360,s:n.s,l:n.l}),F({h:(r+216)%360,s:n.s,l:n.l})]}function Wu(e,n,r){n=n||6,r=r||30;var i=F(e).toHsl(),o=360/r,a=[F(e)];for(i.h=(i.h-(o*n>>1)+720)%360;--n;)i.h=(i.h+o)%360,a.push(F(i));return a}function Gu(e,n){n=n||6;for(var r=F(e).toHsv(),i=r.h,o=r.s,a=r.v,s=[],l=1/n;n--;)s.push(F({h:i,s:o,v:a})),a=(a+l)%1;return s}F.mix=function(e,n,r){r=r===0?0:r||50;var i=F(e).toRgb(),o=F(n).toRgb(),a=r/100,s={r:(o.r-i.r)*a+i.r,g:(o.g-i.g)*a+i.g,b:(o.b-i.b)*a+i.b,a:(o.a-i.a)*a+i.a};return F(s)};F.readability=function(e,n){var r=F(e),i=F(n);return(Math.max(r.getLuminance(),i.getLuminance())+.05)/(Math.min(r.getLuminance(),i.getLuminance())+.05)};F.isReadable=function(e,n,r){var i=F.readability(e,n),o,a;switch(a=!1,o=Qu(r),o.level+o.size){case"AAsmall":case"AAAlarge":a=i>=4.5;break;case"AAlarge":a=i>=3;break;case"AAAsmall":a=i>=7;break}return a};F.mostReadable=function(e,n,r){var i=null,o=0,a,s,l,c;r=r||{},s=r.includeFallbackColors,l=r.level,c=r.size;for(var u=0;u<n.length;u++)a=F.readability(e,n[u]),a>o&&(o=a,i=F(n[u]));return F.isReadable(e,i,{level:l,size:c})||!s?i:(r.includeFallbackColors=!1,F.mostReadable(e,["#fff","#000"],r))};var dn=F.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Bu=F.hexNames=Xu(dn);function Xu(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[e[r]]=r);return n}function di(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function tt(e,n){Yu(e)&&(e="100%");var r=Zu(e);return e=Math.min(n,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),Math.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function Ve(e){return Math.min(1,Math.max(0,e))}function pt(e){return parseInt(e,16)}function Yu(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Zu(e){return typeof e=="string"&&e.indexOf("%")!=-1}function bt(e){return e.length==1?"0"+e:""+e}function ue(e){return e<=1&&(e=e*100+"%"),e}function pi(e){return Math.round(parseFloat(e)*255).toString(16)}function pr(e){return pt(e)/255}var xt=function(){var e="[-\\+]?\\d+%?",n="[-\\+]?\\d*\\.\\d+%?",r="(?:"+n+")|(?:"+e+")",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",o="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function jt(e){return!!xt.CSS_UNIT.exec(e)}function Ku(e){e=e.replace(ju,"").replace(Mu,"").toLowerCase();var n=!1;if(dn[e])e=dn[e],n=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=xt.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=xt.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=xt.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=xt.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=xt.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=xt.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=xt.hex8.exec(e))?{r:pt(r[1]),g:pt(r[2]),b:pt(r[3]),a:pr(r[4]),format:n?"name":"hex8"}:(r=xt.hex6.exec(e))?{r:pt(r[1]),g:pt(r[2]),b:pt(r[3]),format:n?"name":"hex"}:(r=xt.hex4.exec(e))?{r:pt(r[1]+""+r[1]),g:pt(r[2]+""+r[2]),b:pt(r[3]+""+r[3]),a:pr(r[4]+""+r[4]),format:n?"name":"hex8"}:(r=xt.hex3.exec(e))?{r:pt(r[1]+""+r[1]),g:pt(r[2]+""+r[2]),b:pt(r[3]+""+r[3]),format:n?"name":"hex"}:!1}function Qu(e){var n,r;return e=e||{level:"AA",size:"small"},n=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),n!=="AA"&&n!=="AAA"&&(n="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:n,size:r}}function pn(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function Ju(e){if(Array.isArray(e))return pn(e)}function gi(e,n,r){if(typeof e=="function"?e===n:e.has(n))return arguments.length<3?n:r;throw new TypeError("Private element is not present on this object")}function tc(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ec(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function yt(e,n){return e.get(gi(e,n))}function gr(e,n,r){tc(e,n),n.set(e,r)}function yr(e,n,r){return e.set(gi(e,n),r),r}function nc(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,lc(i.key),i)}}function rc(e,n,r){return n&&nc(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ic(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ac(e){return Ju(e)||ic(e)||uc(e)||oc()}function sc(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function lc(e){var n=sc(e,"string");return typeof n=="symbol"?n:n+""}function uc(e,n){if(e){if(typeof e=="string")return pn(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pn(e,n):void 0}}var cc=123,fc=function(n){return"#".concat(Math.min(n,Math.pow(2,24)).toString(16).padStart(6,"0"))},yi=function(n,r,i){return(n<<16)+(r<<8)+i},hc=function(n){var r=F(n).toRgb(),i=r.r,o=r.g,a=r.b;return yi(i,o,a)},mr=function(n,r){return n*cc%Math.pow(2,r)},Lt=new WeakMap,Mt=new WeakMap,dc=function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;ec(this,e),gr(this,Lt,void 0),gr(this,Mt,void 0),yr(Mt,this,n),this.reset()}return rc(e,[{key:"reset",value:function(){yr(Lt,this,["__reserved for background__"])}},{key:"register",value:function(r){if(yt(Lt,this).length>=Math.pow(2,24-yt(Mt,this)))return null;var i=yt(Lt,this).length,o=mr(i,yt(Mt,this)),a=fc(i+(o<<24-yt(Mt,this)));return yt(Lt,this).push(r),a}},{key:"lookup",value:function(r){if(!r)return null;var i=typeof r=="string"?hc(r):yi.apply(void 0,ac(r));if(!i)return null;var o=i&Math.pow(2,24-yt(Mt,this))-1,a=i>>24-yt(Mt,this)&Math.pow(2,yt(Mt,this))-1;return mr(o,yt(Mt,this))!==a||o>=yt(Lt,this).length?null:yt(Lt,this)[o]}}])}(),_e,et,mi,vi,Ht,vr,_i,xi,bi,Pn,gn,yn,ge={},wi=[],pc=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,We=Array.isArray;function St(e,n){for(var r in n)e[r]=n[r];return e}function On(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function gc(e,n,r){var i,o,a,s={};for(a in n)a=="key"?i=n[a]:a=="ref"?o=n[a]:s[a]=n[a];if(arguments.length>2&&(s.children=arguments.length>3?_e.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)s[a]===void 0&&(s[a]=e.defaultProps[a]);return ce(e,s,i,o,null)}function ce(e,n,r,i,o){var a={type:e,props:n,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++mi,__i:-1,__u:0};return o==null&&et.vnode!=null&&et.vnode(a),a}function Ge(e){return e.children}function Me(e,n){this.props=e,this.context=n}function Kt(e,n){if(n==null)return e.__?Kt(e.__,e.__i+1):null;for(var r;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?Kt(e):null}function ki(e){var n,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return ki(e)}}function _r(e){(!e.__d&&(e.__d=!0)&&Ht.push(e)&&!$e.__r++||vr!=et.debounceRendering)&&((vr=et.debounceRendering)||_i)($e)}function $e(){for(var e,n,r,i,o,a,s,l=1;Ht.length;)Ht.length>l&&Ht.sort(xi),e=Ht.shift(),l=Ht.length,e.__d&&(r=void 0,i=void 0,o=(i=(n=e).__v).__e,a=[],s=[],n.__P&&((r=St({},i)).__v=i.__v+1,et.vnode&&et.vnode(r),En(n.__P,r,i,n.__n,n.__P.namespaceURI,32&i.__u?[o]:null,a,o??Kt(i),!!(32&i.__u),s),r.__v=i.__v,r.__.__k[r.__i]=r,Ci(a,r,s),i.__e=i.__=null,r.__e!=o&&ki(r)));$e.__r=0}function Ai(e,n,r,i,o,a,s,l,c,u,h){var f,d,p,y,_,m,g,k=i&&i.__k||wi,N=n.length;for(c=yc(r,n,k,c,N),f=0;f<N;f++)(p=r.__k[f])!=null&&(d=p.__i==-1?ge:k[p.__i]||ge,p.__i=f,m=En(e,p,d,o,a,s,l,c,u,h),y=p.__e,p.ref&&d.ref!=p.ref&&(d.ref&&zn(d.ref,null,p),h.push(p.ref,p.__c||y,p)),_==null&&y!=null&&(_=y),(g=!!(4&p.__u))||d.__k===p.__k?c=Si(p,c,e,g):typeof p.type=="function"&&m!==void 0?c=m:y&&(c=y.nextSibling),p.__u&=-7);return r.__e=_,c}function yc(e,n,r,i,o){var a,s,l,c,u,h=r.length,f=h,d=0;for(e.__k=new Array(o),a=0;a<o;a++)(s=n[a])!=null&&typeof s!="boolean"&&typeof s!="function"?(typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?s=e.__k[a]=ce(null,s,null,null,null):We(s)?s=e.__k[a]=ce(Ge,{children:s},null,null,null):s.constructor==null&&s.__b>0?s=e.__k[a]=ce(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):e.__k[a]=s,c=a+d,s.__=e,s.__b=e.__b+1,(u=s.__i=mc(s,r,c,f))!=-1&&(f--,(l=r[u])&&(l.__u|=2)),l==null||l.__v==null?(u==-1&&(o>h?d--:o<h&&d++),typeof s.type!="function"&&(s.__u|=4)):u!=c&&(u==c-1?d--:u==c+1?d++:(u>c?d--:d++,s.__u|=4))):e.__k[a]=null;if(f)for(a=0;a<h;a++)(l=r[a])!=null&&!(2&l.__u)&&(l.__e==i&&(i=Kt(l)),Ti(l,l));return i}function Si(e,n,r,i){var o,a;if(typeof e.type=="function"){for(o=e.__k,a=0;o&&a<o.length;a++)o[a]&&(o[a].__=e,n=Si(o[a],n,r,i));return n}e.__e!=n&&(i&&(n&&e.type&&!n.parentNode&&(n=Kt(e)),r.insertBefore(e.__e,n||null)),n=e.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function mc(e,n,r,i){var o,a,s,l=e.key,c=e.type,u=n[r],h=u!=null&&(2&u.__u)==0;if(u===null&&l==null||h&&l==u.key&&c==u.type)return r;if(i>(h?1:0)){for(o=r-1,a=r+1;o>=0||a<n.length;)if((u=n[s=o>=0?o--:a++])!=null&&!(2&u.__u)&&l==u.key&&c==u.type)return s}return-1}function xr(e,n,r){n[0]=="-"?e.setProperty(n,r??""):e[n]=r==null?"":typeof r!="number"||pc.test(n)?r:r+"px"}function Ae(e,n,r,i,o){var a,s;t:if(n=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(n in i)r&&n in r||xr(e.style,n,"");if(r)for(n in r)i&&r[n]==i[n]||xr(e.style,n,r[n])}else if(n[0]=="o"&&n[1]=="n")a=n!=(n=n.replace(bi,"$1")),s=n.toLowerCase(),n=s in e||n=="onFocusOut"||n=="onFocusIn"?s.slice(2):n.slice(2),e.l||(e.l={}),e.l[n+a]=r,r?i?r.u=i.u:(r.u=Pn,e.addEventListener(n,a?yn:gn,a)):e.removeEventListener(n,a?yn:gn,a);else{if(o=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in e)try{e[n]=r??"";break t}catch{}typeof r=="function"||(r==null||r===!1&&n[4]!="-"?e.removeAttribute(n):e.setAttribute(n,n=="popover"&&r==1?"":r))}}function br(e){return function(n){if(this.l){var r=this.l[n.type+e];if(n.t==null)n.t=Pn++;else if(n.t<r.u)return;return r(et.event?et.event(n):n)}}}function En(e,n,r,i,o,a,s,l,c,u){var h,f,d,p,y,_,m,g,k,N,x,b,A,T,j,R,P,z=n.type;if(n.constructor!=null)return null;128&r.__u&&(c=!!(32&r.__u),a=[l=n.__e=r.__e]),(h=et.__b)&&h(n);t:if(typeof z=="function")try{if(g=n.props,k="prototype"in z&&z.prototype.render,N=(h=z.contextType)&&i[h.__c],x=h?N?N.props.value:h.__:i,r.__c?m=(f=n.__c=r.__c).__=f.__E:(k?n.__c=f=new z(g,x):(n.__c=f=new Me(g,x),f.constructor=z,f.render=_c),N&&N.sub(f),f.state||(f.state={}),f.__n=i,d=f.__d=!0,f.__h=[],f._sb=[]),k&&f.__s==null&&(f.__s=f.state),k&&z.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=St({},f.__s)),St(f.__s,z.getDerivedStateFromProps(g,f.__s))),p=f.props,y=f.state,f.__v=n,d)k&&z.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),k&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(k&&z.getDerivedStateFromProps==null&&g!==p&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(g,x),n.__v==r.__v||!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(g,f.__s,x)===!1){for(n.__v!=r.__v&&(f.props=g,f.state=f.__s,f.__d=!1),n.__e=r.__e,n.__k=r.__k,n.__k.some(function(D){D&&(D.__=n)}),b=0;b<f._sb.length;b++)f.__h.push(f._sb[b]);f._sb=[],f.__h.length&&s.push(f);break t}f.componentWillUpdate!=null&&f.componentWillUpdate(g,f.__s,x),k&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(p,y,_)})}if(f.context=x,f.props=g,f.__P=e,f.__e=!1,A=et.__r,T=0,k){for(f.state=f.__s,f.__d=!1,A&&A(n),h=f.render(f.props,f.state,f.context),j=0;j<f._sb.length;j++)f.__h.push(f._sb[j]);f._sb=[]}else do f.__d=!1,A&&A(n),h=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++T<25);f.state=f.__s,f.getChildContext!=null&&(i=St(St({},i),f.getChildContext())),k&&!d&&f.getSnapshotBeforeUpdate!=null&&(_=f.getSnapshotBeforeUpdate(p,y)),R=h,h!=null&&h.type===Ge&&h.key==null&&(R=Ni(h.props.children)),l=Ai(e,We(R)?R:[R],n,r,i,o,a,s,l,c,u),f.base=n.__e,n.__u&=-161,f.__h.length&&s.push(f),m&&(f.__E=f.__=null)}catch(D){if(n.__v=null,c||a!=null)if(D.then){for(n.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,n.__e=l}else{for(P=a.length;P--;)On(a[P]);mn(n)}else n.__e=r.__e,n.__k=r.__k,D.then||mn(n);et.__e(D,n,r)}else a==null&&n.__v==r.__v?(n.__k=r.__k,n.__e=r.__e):l=n.__e=vc(r.__e,n,r,i,o,a,s,c,u);return(h=et.diffed)&&h(n),128&n.__u?void 0:l}function mn(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(mn)}function Ci(e,n,r){for(var i=0;i<r.length;i++)zn(r[i],r[++i],r[++i]);et.__c&&et.__c(n,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(a){a.call(o)})}catch(a){et.__e(a,o.__v)}})}function Ni(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:We(e)?e.map(Ni):St({},e)}function vc(e,n,r,i,o,a,s,l,c){var u,h,f,d,p,y,_,m=r.props||ge,g=n.props,k=n.type;if(k=="svg"?o="http://www.w3.org/2000/svg":k=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),a!=null){for(u=0;u<a.length;u++)if((p=a[u])&&"setAttribute"in p==!!k&&(k?p.localName==k:p.nodeType==3)){e=p,a[u]=null;break}}if(e==null){if(k==null)return document.createTextNode(g);e=document.createElementNS(o,k,g.is&&g),l&&(et.__m&&et.__m(n,a),l=!1),a=null}if(k==null)m===g||l&&e.data==g||(e.data=g);else{if(a=a&&_e.call(e.childNodes),!l&&a!=null)for(m={},u=0;u<e.attributes.length;u++)m[(p=e.attributes[u]).name]=p.value;for(u in m)if(p=m[u],u!="children"){if(u=="dangerouslySetInnerHTML")f=p;else if(!(u in g)){if(u=="value"&&"defaultValue"in g||u=="checked"&&"defaultChecked"in g)continue;Ae(e,u,null,p,o)}}for(u in g)p=g[u],u=="children"?d=p:u=="dangerouslySetInnerHTML"?h=p:u=="value"?y=p:u=="checked"?_=p:l&&typeof p!="function"||m[u]===p||Ae(e,u,p,m[u],o);if(h)l||f&&(h.__html==f.__html||h.__html==e.innerHTML)||(e.innerHTML=h.__html),n.__k=[];else if(f&&(e.innerHTML=""),Ai(n.type=="template"?e.content:e,We(d)?d:[d],n,r,i,k=="foreignObject"?"http://www.w3.org/1999/xhtml":o,a,s,a?a[0]:r.__k&&Kt(r,0),l,c),a!=null)for(u=a.length;u--;)On(a[u]);l||(u="value",k=="progress"&&y==null?e.removeAttribute("value"):y!=null&&(y!==e[u]||k=="progress"&&!y||k=="option"&&y!=m[u])&&Ae(e,u,y,m[u],o),u="checked",_!=null&&_!=e[u]&&Ae(e,u,_,m[u],o))}return e}function zn(e,n,r){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&n==null||(e.__u=e(n))}else e.current=n}catch(o){et.__e(o,r)}}function Ti(e,n,r){var i,o;if(et.unmount&&et.unmount(e),(i=e.ref)&&(i.current&&i.current!=e.__e||zn(i,null,n)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){et.__e(a,n)}i.base=i.__P=null}if(i=e.__k)for(o=0;o<i.length;o++)i[o]&&Ti(i[o],n,r||typeof e.type!="function");r||On(e.__e),e.__c=e.__=e.__e=void 0}function _c(e,n,r){return this.constructor(e,r)}function xc(e,n,r){var i,o,a,s;n==document&&(n=document.documentElement),et.__&&et.__(e,n),o=(i=!1)?null:n.__k,a=[],s=[],En(n,e=n.__k=gc(Ge,null,[e]),o||ge,ge,n.namespaceURI,o?null:n.firstChild?_e.call(n.childNodes):null,a,o?o.__e:n.firstChild,i,s),Ci(a,e,s)}function ji(e,n,r){var i,o,a,s,l=St({},e.props);for(a in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),n)a=="key"?i=n[a]:a=="ref"?o=n[a]:l[a]=n[a]===void 0&&s!=null?s[a]:n[a];return arguments.length>2&&(l.children=arguments.length>3?_e.call(arguments,2):r),ce(e.type,l,i||e.key,o||e.ref,null)}_e=wi.slice,et={__e:function(e,n,r,i){for(var o,a,s;n=n.__;)if((o=n.__c)&&!o.__)try{if((a=o.constructor)&&a.getDerivedStateFromError!=null&&(o.setState(a.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,i||{}),s=o.__d),s)return o.__E=o}catch(l){e=l}throw e}},mi=0,vi=function(e){return e!=null&&e.constructor==null},Me.prototype.setState=function(e,n){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=St({},this.state),typeof e=="function"&&(e=e(St({},r),this.props)),e&&St(r,e),e!=null&&this.__v&&(n&&this._sb.push(n),_r(this))},Me.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_r(this))},Me.prototype.render=Ge,Ht=[],_i=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,xi=function(e,n){return e.__v.__b-n.__v.__b},$e.__r=0,bi=/(PointerCapture)$|Capture$/i,Pn=0,gn=br(!1),yn=br(!0);function wr(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function bc(e){if(Array.isArray(e))return e}function wc(e,n,r){return(n=Tc(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function kc(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(c=(i=a.call(r)).done)&&(l.push(i.value),l.length!==n);c=!0);}catch(h){u=!0,o=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw o}}return l}}function Ac(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kr(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function Sc(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?kr(Object(r),!0).forEach(function(i){wc(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kr(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Cc(e,n){return bc(e)||kc(e,n)||jc(e,n)||Ac()}function Nc(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Tc(e){var n=Nc(e,"string");return typeof n=="symbol"?n:n+""}function Fe(e){"@babel/helpers - typeof";return Fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Fe(e)}function jc(e,n){if(e){if(typeof e=="string")return wr(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wr(e,n):void 0}}var vn=function(n){if(Fe(n)!=="object")return n;var r=ji(n);if(r.props){var i;r.props=Sc({},r.props),r!=null&&(i=r.props)!==null&&i!==void 0&&i.children&&(r.props.children=Array.isArray(r.props.children)?r.props.children.map(vn):vn(r.props.children))}return r},Mc=function(n){return vi(ji(n))},Pc=function(n,r){delete r.__k,xc(vn(n),r)};function Oc(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var Ec=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;Oc(Ec);var zc=Mn({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.style,a=o===void 0?{}:o,s=!!n&&Fe(n)==="object"&&!!n.node&&typeof n.node=="function",l=vt(s?n.node():n);l.style("position")==="static"&&l.style("position","relative"),r.tooltipEl=l.append("div").attr("class","float-tooltip-kap"),Object.entries(a).forEach(function(u){var h=Cc(u,2),f=h[0],d=h[1];return r.tooltipEl.style(f,d)}),r.tooltipEl.style("left","-10000px").style("display","none");var c="tooltip-".concat(Math.round(Math.random()*1e12));r.mouseInside=!1,l.on("mousemove.".concat(c),function(u){r.mouseInside=!0;var h=At(u),f=l.node(),d=f.offsetWidth,p=f.offsetHeight,y=[r.offsetX===null||r.offsetX===void 0?"-".concat(h[0]/d*100,"%"):typeof r.offsetX=="number"?"calc(-50% + ".concat(r.offsetX,"px)"):r.offsetX,r.offsetY===null||r.offsetY===void 0?p>130&&p-h[1]<100?"calc(-100% - 6px)":"21px":typeof r.offsetY=="number"?r.offsetY<0?"calc(-100% - ".concat(Math.abs(r.offsetY),"px)"):"".concat(r.offsetY,"px"):r.offsetY];r.tooltipEl.style("left",h[0]+"px").style("top",h[1]+"px").style("transform","translate(".concat(y.join(","),")")),r.content&&r.tooltipEl.style("display","inline")}),l.on("mouseover.".concat(c),function(){r.mouseInside=!0,r.content&&r.tooltipEl.style("display","inline")}),l.on("mouseout.".concat(c),function(){r.mouseInside=!1,r.tooltipEl.style("display","none")})},update:function(n){n.tooltipEl.style("display",n.content&&n.mouseInside?"inline":"none"),n.content?n.content instanceof HTMLElement?(n.tooltipEl.text(""),n.tooltipEl.append(function(){return n.content})):typeof n.content=="string"?n.tooltipEl.html(n.content):Mc(n.content)?(n.tooltipEl.text(""),Pc(n.content,n.tooltipEl.node())):(n.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",n.content,n.content.toString())):n.tooltipEl.text("")}});function Rc(e,n,r){var i,o=1;e==null&&(e=0),n==null&&(n=0),r==null&&(r=0);function a(){var s,l=i.length,c,u=0,h=0,f=0;for(s=0;s<l;++s)c=i[s],u+=c.x||0,h+=c.y||0,f+=c.z||0;for(u=(u/l-e)*o,h=(h/l-n)*o,f=(f/l-r)*o,s=0;s<l;++s)c=i[s],u&&(c.x-=u),h&&(c.y-=h),f&&(c.z-=f)}return a.initialize=function(s){i=s},a.x=function(s){return arguments.length?(e=+s,a):e},a.y=function(s){return arguments.length?(n=+s,a):n},a.z=function(s){return arguments.length?(r=+s,a):r},a.strength=function(s){return arguments.length?(o=+s,a):o},a}function Dc(e){const n=+this._x.call(null,e);return Mi(this.cover(n),n,e)}function Mi(e,n,r){if(isNaN(n))return e;var i,o=e._root,a={data:r},s=e._x0,l=e._x1,c,u,h,f,d;if(!o)return e._root=a,e;for(;o.length;)if((h=n>=(c=(s+l)/2))?s=c:l=c,i=o,!(o=o[f=+h]))return i[f]=a,e;if(u=+e._x.call(null,o.data),n===u)return a.next=o,i?i[f]=a:e._root=a,e;do i=i?i[f]=new Array(2):e._root=new Array(2),(h=n>=(c=(s+l)/2))?s=c:l=c;while((f=+h)==(d=+(u>=c)));return i[d]=o,i[f]=a,e}function Ic(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n);let i=1/0,o=-1/0;for(let a=0,s;a<n;++a)isNaN(s=+this._x.call(null,e[a]))||(r[a]=s,s<i&&(i=s),s>o&&(o=s));if(i>o)return this;this.cover(i).cover(o);for(let a=0;a<n;++a)Mi(this,r[a],e[a]);return this}function $c(e){if(isNaN(e=+e))return this;var n=this._x0,r=this._x1;if(isNaN(n))r=(n=Math.floor(e))+1;else{for(var i=r-n||1,o=this._root,a,s;n>e||e>=r;)switch(s=+(e<n),a=new Array(2),a[s]=o,o=a,i*=2,s){case 0:r=n+i;break;case 1:n=r-i;break}this._root&&this._root.length&&(this._root=o)}return this._x0=n,this._x1=r,this}function Fc(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function Lc(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Rt(e,n,r){this.node=e,this.x0=n,this.x1=r}function Uc(e,n){var r,i=this._x0,o,a,s=this._x1,l=[],c=this._root,u,h;for(c&&l.push(new Rt(c,i,s)),n==null?n=1/0:(i=e-n,s=e+n);u=l.pop();)if(!(!(c=u.node)||(o=u.x0)>s||(a=u.x1)<i))if(c.length){var f=(o+a)/2;l.push(new Rt(c[1],f,a),new Rt(c[0],o,f)),(h=+(e>=f))&&(u=l[l.length-1],l[l.length-1]=l[l.length-1-h],l[l.length-1-h]=u)}else{var d=Math.abs(e-+this._x.call(null,c.data));d<n&&(n=d,i=e-d,s=e+d,r=c.data)}return r}function Hc(e){if(isNaN(c=+this._x.call(null,e)))return this;var n,r=this._root,i,o,a,s=this._x0,l=this._x1,c,u,h,f,d;if(!r)return this;if(r.length)for(;;){if((h=c>=(u=(s+l)/2))?s=u:l=u,n=r,!(r=r[f=+h]))return this;if(!r.length)break;n[f+1&1]&&(i=n,d=f)}for(;r.data!==e;)if(o=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,o?(a?o.next=a:delete o.next,this):n?(a?n[f]=a:delete n[f],(r=n[0]||n[1])&&r===(n[1]||n[0])&&!r.length&&(i?i[d]=r:this._root=r),this):(this._root=a,this)}function qc(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function Vc(){return this._root}function Wc(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function Gc(e){var n=[],r,i=this._root,o,a,s;for(i&&n.push(new Rt(i,this._x0,this._x1));r=n.pop();)if(!e(i=r.node,a=r.x0,s=r.x1)&&i.length){var l=(a+s)/2;(o=i[1])&&n.push(new Rt(o,l,s)),(o=i[0])&&n.push(new Rt(o,a,l))}return this}function Bc(e){var n=[],r=[],i;for(this._root&&n.push(new Rt(this._root,this._x0,this._x1));i=n.pop();){var o=i.node;if(o.length){var a,s=i.x0,l=i.x1,c=(s+l)/2;(a=o[0])&&n.push(new Rt(a,s,c)),(a=o[1])&&n.push(new Rt(a,c,l))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.x1);return this}function Xc(e){return e[0]}function Yc(e){return arguments.length?(this._x=e,this):this._x}function Pi(e,n){var r=new Rn(n??Xc,NaN,NaN);return e==null?r:r.addAll(e)}function Rn(e,n,r){this._x=e,this._x0=n,this._x1=r,this._root=void 0}function Ar(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var ft=Pi.prototype=Rn.prototype;ft.copy=function(){var e=new Rn(this._x,this._x0,this._x1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=Ar(n),e;for(r=[{source:n,target:e._root=new Array(2)}];n=r.pop();)for(var o=0;o<2;++o)(i=n.source[o])&&(i.length?r.push({source:i,target:n.target[o]=new Array(2)}):n.target[o]=Ar(i));return e};ft.add=Dc;ft.addAll=Ic;ft.cover=$c;ft.data=Fc;ft.extent=Lc;ft.find=Uc;ft.remove=Hc;ft.removeAll=qc;ft.root=Vc;ft.size=Wc;ft.visit=Gc;ft.visitAfter=Bc;ft.x=Yc;function Zc(e){const n=+this._x.call(null,e),r=+this._y.call(null,e);return Oi(this.cover(n,r),n,r,e)}function Oi(e,n,r,i){if(isNaN(n)||isNaN(r))return e;var o,a=e._root,s={data:i},l=e._x0,c=e._y0,u=e._x1,h=e._y1,f,d,p,y,_,m,g,k;if(!a)return e._root=s,e;for(;a.length;)if((_=n>=(f=(l+u)/2))?l=f:u=f,(m=r>=(d=(c+h)/2))?c=d:h=d,o=a,!(a=a[g=m<<1|_]))return o[g]=s,e;if(p=+e._x.call(null,a.data),y=+e._y.call(null,a.data),n===p&&r===y)return s.next=a,o?o[g]=s:e._root=s,e;do o=o?o[g]=new Array(4):e._root=new Array(4),(_=n>=(f=(l+u)/2))?l=f:u=f,(m=r>=(d=(c+h)/2))?c=d:h=d;while((g=m<<1|_)===(k=(y>=d)<<1|p>=f));return o[k]=a,o[g]=s,e}function Kc(e){var n,r,i=e.length,o,a,s=new Array(i),l=new Array(i),c=1/0,u=1/0,h=-1/0,f=-1/0;for(r=0;r<i;++r)isNaN(o=+this._x.call(null,n=e[r]))||isNaN(a=+this._y.call(null,n))||(s[r]=o,l[r]=a,o<c&&(c=o),o>h&&(h=o),a<u&&(u=a),a>f&&(f=a));if(c>h||u>f)return this;for(this.cover(c,u).cover(h,f),r=0;r<i;++r)Oi(this,s[r],l[r],e[r]);return this}function Qc(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,o=this._x1,a=this._y1;if(isNaN(r))o=(r=Math.floor(e))+1,a=(i=Math.floor(n))+1;else{for(var s=o-r||1,l=this._root,c,u;r>e||e>=o||i>n||n>=a;)switch(u=(n<i)<<1|e<r,c=new Array(4),c[u]=l,l=c,s*=2,u){case 0:o=r+s,a=i+s;break;case 1:r=o-s,a=i+s;break;case 2:o=r+s,i=a-s;break;case 3:r=o-s,i=a-s;break}this._root&&this._root.length&&(this._root=l)}return this._x0=r,this._y0=i,this._x1=o,this._y1=a,this}function Jc(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function tf(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function lt(e,n,r,i,o){this.node=e,this.x0=n,this.y0=r,this.x1=i,this.y1=o}function ef(e,n,r){var i,o=this._x0,a=this._y0,s,l,c,u,h=this._x1,f=this._y1,d=[],p=this._root,y,_;for(p&&d.push(new lt(p,o,a,h,f)),r==null?r=1/0:(o=e-r,a=n-r,h=e+r,f=n+r,r*=r);y=d.pop();)if(!(!(p=y.node)||(s=y.x0)>h||(l=y.y0)>f||(c=y.x1)<o||(u=y.y1)<a))if(p.length){var m=(s+c)/2,g=(l+u)/2;d.push(new lt(p[3],m,g,c,u),new lt(p[2],s,g,m,u),new lt(p[1],m,l,c,g),new lt(p[0],s,l,m,g)),(_=(n>=g)<<1|e>=m)&&(y=d[d.length-1],d[d.length-1]=d[d.length-1-_],d[d.length-1-_]=y)}else{var k=e-+this._x.call(null,p.data),N=n-+this._y.call(null,p.data),x=k*k+N*N;if(x<r){var b=Math.sqrt(r=x);o=e-b,a=n-b,h=e+b,f=n+b,i=p.data}}return i}function nf(e){if(isNaN(h=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var n,r=this._root,i,o,a,s=this._x0,l=this._y0,c=this._x1,u=this._y1,h,f,d,p,y,_,m,g;if(!r)return this;if(r.length)for(;;){if((y=h>=(d=(s+c)/2))?s=d:c=d,(_=f>=(p=(l+u)/2))?l=p:u=p,n=r,!(r=r[m=_<<1|y]))return this;if(!r.length)break;(n[m+1&3]||n[m+2&3]||n[m+3&3])&&(i=n,g=m)}for(;r.data!==e;)if(o=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,o?(a?o.next=a:delete o.next,this):n?(a?n[m]=a:delete n[m],(r=n[0]||n[1]||n[2]||n[3])&&r===(n[3]||n[2]||n[1]||n[0])&&!r.length&&(i?i[g]=r:this._root=r),this):(this._root=a,this)}function rf(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function of(){return this._root}function af(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function sf(e){var n=[],r,i=this._root,o,a,s,l,c;for(i&&n.push(new lt(i,this._x0,this._y0,this._x1,this._y1));r=n.pop();)if(!e(i=r.node,a=r.x0,s=r.y0,l=r.x1,c=r.y1)&&i.length){var u=(a+l)/2,h=(s+c)/2;(o=i[3])&&n.push(new lt(o,u,h,l,c)),(o=i[2])&&n.push(new lt(o,a,h,u,c)),(o=i[1])&&n.push(new lt(o,u,s,l,h)),(o=i[0])&&n.push(new lt(o,a,s,u,h))}return this}function lf(e){var n=[],r=[],i;for(this._root&&n.push(new lt(this._root,this._x0,this._y0,this._x1,this._y1));i=n.pop();){var o=i.node;if(o.length){var a,s=i.x0,l=i.y0,c=i.x1,u=i.y1,h=(s+c)/2,f=(l+u)/2;(a=o[0])&&n.push(new lt(a,s,l,h,f)),(a=o[1])&&n.push(new lt(a,h,l,c,f)),(a=o[2])&&n.push(new lt(a,s,f,h,u)),(a=o[3])&&n.push(new lt(a,h,f,c,u))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this}function uf(e){return e[0]}function cf(e){return arguments.length?(this._x=e,this):this._x}function ff(e){return e[1]}function hf(e){return arguments.length?(this._y=e,this):this._y}function Ei(e,n,r){var i=new Dn(n??uf,r??ff,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function Dn(e,n,r,i,o,a){this._x=e,this._y=n,this._x0=r,this._y0=i,this._x1=o,this._y1=a,this._root=void 0}function Sr(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var ut=Ei.prototype=Dn.prototype;ut.copy=function(){var e=new Dn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=Sr(n),e;for(r=[{source:n,target:e._root=new Array(4)}];n=r.pop();)for(var o=0;o<4;++o)(i=n.source[o])&&(i.length?r.push({source:i,target:n.target[o]=new Array(4)}):n.target[o]=Sr(i));return e};ut.add=Zc;ut.addAll=Kc;ut.cover=Qc;ut.data=Jc;ut.extent=tf;ut.find=ef;ut.remove=nf;ut.removeAll=rf;ut.root=of;ut.size=af;ut.visit=sf;ut.visitAfter=lf;ut.x=cf;ut.y=hf;function df(e){const n=+this._x.call(null,e),r=+this._y.call(null,e),i=+this._z.call(null,e);return zi(this.cover(n,r,i),n,r,i,e)}function zi(e,n,r,i,o){if(isNaN(n)||isNaN(r)||isNaN(i))return e;var a,s=e._root,l={data:o},c=e._x0,u=e._y0,h=e._z0,f=e._x1,d=e._y1,p=e._z1,y,_,m,g,k,N,x,b,A,T,j;if(!s)return e._root=l,e;for(;s.length;)if((x=n>=(y=(c+f)/2))?c=y:f=y,(b=r>=(_=(u+d)/2))?u=_:d=_,(A=i>=(m=(h+p)/2))?h=m:p=m,a=s,!(s=s[T=A<<2|b<<1|x]))return a[T]=l,e;if(g=+e._x.call(null,s.data),k=+e._y.call(null,s.data),N=+e._z.call(null,s.data),n===g&&r===k&&i===N)return l.next=s,a?a[T]=l:e._root=l,e;do a=a?a[T]=new Array(8):e._root=new Array(8),(x=n>=(y=(c+f)/2))?c=y:f=y,(b=r>=(_=(u+d)/2))?u=_:d=_,(A=i>=(m=(h+p)/2))?h=m:p=m;while((T=A<<2|b<<1|x)===(j=(N>=m)<<2|(k>=_)<<1|g>=y));return a[j]=s,a[T]=l,e}function pf(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n),i=new Float64Array(n),o=new Float64Array(n);let a=1/0,s=1/0,l=1/0,c=-1/0,u=-1/0,h=-1/0;for(let f=0,d,p,y,_;f<n;++f)isNaN(p=+this._x.call(null,d=e[f]))||isNaN(y=+this._y.call(null,d))||isNaN(_=+this._z.call(null,d))||(r[f]=p,i[f]=y,o[f]=_,p<a&&(a=p),p>c&&(c=p),y<s&&(s=y),y>u&&(u=y),_<l&&(l=_),_>h&&(h=_));if(a>c||s>u||l>h)return this;this.cover(a,s,l).cover(c,u,h);for(let f=0;f<n;++f)zi(this,r[f],i[f],o[f],e[f]);return this}function gf(e,n,r){if(isNaN(e=+e)||isNaN(n=+n)||isNaN(r=+r))return this;var i=this._x0,o=this._y0,a=this._z0,s=this._x1,l=this._y1,c=this._z1;if(isNaN(i))s=(i=Math.floor(e))+1,l=(o=Math.floor(n))+1,c=(a=Math.floor(r))+1;else{for(var u=s-i||1,h=this._root,f,d;i>e||e>=s||o>n||n>=l||a>r||r>=c;)switch(d=(r<a)<<2|(n<o)<<1|e<i,f=new Array(8),f[d]=h,h=f,u*=2,d){case 0:s=i+u,l=o+u,c=a+u;break;case 1:i=s-u,l=o+u,c=a+u;break;case 2:s=i+u,o=l-u,c=a+u;break;case 3:i=s-u,o=l-u,c=a+u;break;case 4:s=i+u,l=o+u,a=c-u;break;case 5:i=s-u,l=o+u,a=c-u;break;case 6:s=i+u,o=l-u,a=c-u;break;case 7:i=s-u,o=l-u,a=c-u;break}this._root&&this._root.length&&(this._root=h)}return this._x0=i,this._y0=o,this._z0=a,this._x1=s,this._y1=l,this._z1=c,this}function yf(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function mf(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Q(e,n,r,i,o,a,s){this.node=e,this.x0=n,this.y0=r,this.z0=i,this.x1=o,this.y1=a,this.z1=s}function vf(e,n,r,i){var o,a=this._x0,s=this._y0,l=this._z0,c,u,h,f,d,p,y=this._x1,_=this._y1,m=this._z1,g=[],k=this._root,N,x;for(k&&g.push(new Q(k,a,s,l,y,_,m)),i==null?i=1/0:(a=e-i,s=n-i,l=r-i,y=e+i,_=n+i,m=r+i,i*=i);N=g.pop();)if(!(!(k=N.node)||(c=N.x0)>y||(u=N.y0)>_||(h=N.z0)>m||(f=N.x1)<a||(d=N.y1)<s||(p=N.z1)<l))if(k.length){var b=(c+f)/2,A=(u+d)/2,T=(h+p)/2;g.push(new Q(k[7],b,A,T,f,d,p),new Q(k[6],c,A,T,b,d,p),new Q(k[5],b,u,T,f,A,p),new Q(k[4],c,u,T,b,A,p),new Q(k[3],b,A,h,f,d,T),new Q(k[2],c,A,h,b,d,T),new Q(k[1],b,u,h,f,A,T),new Q(k[0],c,u,h,b,A,T)),(x=(r>=T)<<2|(n>=A)<<1|e>=b)&&(N=g[g.length-1],g[g.length-1]=g[g.length-1-x],g[g.length-1-x]=N)}else{var j=e-+this._x.call(null,k.data),R=n-+this._y.call(null,k.data),P=r-+this._z.call(null,k.data),z=j*j+R*R+P*P;if(z<i){var D=Math.sqrt(i=z);a=e-D,s=n-D,l=r-D,y=e+D,_=n+D,m=r+D,o=k.data}}return o}const _f=(e,n,r,i,o,a)=>Math.sqrt((e-i)**2+(n-o)**2+(r-a)**2);function xf(e,n,r,i){const o=[],a=e-i,s=n-i,l=r-i,c=e+i,u=n+i,h=r+i;return this.visit((f,d,p,y,_,m,g)=>{if(!f.length)do{const k=f.data;_f(e,n,r,this._x(k),this._y(k),this._z(k))<=i&&o.push(k)}while(f=f.next);return d>c||p>u||y>h||_<a||m<s||g<l}),o}function bf(e){if(isNaN(d=+this._x.call(null,e))||isNaN(p=+this._y.call(null,e))||isNaN(y=+this._z.call(null,e)))return this;var n,r=this._root,i,o,a,s=this._x0,l=this._y0,c=this._z0,u=this._x1,h=this._y1,f=this._z1,d,p,y,_,m,g,k,N,x,b,A;if(!r)return this;if(r.length)for(;;){if((k=d>=(_=(s+u)/2))?s=_:u=_,(N=p>=(m=(l+h)/2))?l=m:h=m,(x=y>=(g=(c+f)/2))?c=g:f=g,n=r,!(r=r[b=x<<2|N<<1|k]))return this;if(!r.length)break;(n[b+1&7]||n[b+2&7]||n[b+3&7]||n[b+4&7]||n[b+5&7]||n[b+6&7]||n[b+7&7])&&(i=n,A=b)}for(;r.data!==e;)if(o=r,!(r=r.next))return this;return(a=r.next)&&delete r.next,o?(a?o.next=a:delete o.next,this):n?(a?n[b]=a:delete n[b],(r=n[0]||n[1]||n[2]||n[3]||n[4]||n[5]||n[6]||n[7])&&r===(n[7]||n[6]||n[5]||n[4]||n[3]||n[2]||n[1]||n[0])&&!r.length&&(i?i[A]=r:this._root=r),this):(this._root=a,this)}function wf(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function kf(){return this._root}function Af(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function Sf(e){var n=[],r,i=this._root,o,a,s,l,c,u,h;for(i&&n.push(new Q(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=n.pop();)if(!e(i=r.node,a=r.x0,s=r.y0,l=r.z0,c=r.x1,u=r.y1,h=r.z1)&&i.length){var f=(a+c)/2,d=(s+u)/2,p=(l+h)/2;(o=i[7])&&n.push(new Q(o,f,d,p,c,u,h)),(o=i[6])&&n.push(new Q(o,a,d,p,f,u,h)),(o=i[5])&&n.push(new Q(o,f,s,p,c,d,h)),(o=i[4])&&n.push(new Q(o,a,s,p,f,d,h)),(o=i[3])&&n.push(new Q(o,f,d,l,c,u,p)),(o=i[2])&&n.push(new Q(o,a,d,l,f,u,p)),(o=i[1])&&n.push(new Q(o,f,s,l,c,d,p)),(o=i[0])&&n.push(new Q(o,a,s,l,f,d,p))}return this}function Cf(e){var n=[],r=[],i;for(this._root&&n.push(new Q(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=n.pop();){var o=i.node;if(o.length){var a,s=i.x0,l=i.y0,c=i.z0,u=i.x1,h=i.y1,f=i.z1,d=(s+u)/2,p=(l+h)/2,y=(c+f)/2;(a=o[0])&&n.push(new Q(a,s,l,c,d,p,y)),(a=o[1])&&n.push(new Q(a,d,l,c,u,p,y)),(a=o[2])&&n.push(new Q(a,s,p,c,d,h,y)),(a=o[3])&&n.push(new Q(a,d,p,c,u,h,y)),(a=o[4])&&n.push(new Q(a,s,l,y,d,p,f)),(a=o[5])&&n.push(new Q(a,d,l,y,u,p,f)),(a=o[6])&&n.push(new Q(a,s,p,y,d,h,f)),(a=o[7])&&n.push(new Q(a,d,p,y,u,h,f))}r.push(i)}for(;i=r.pop();)e(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function Nf(e){return e[0]}function Tf(e){return arguments.length?(this._x=e,this):this._x}function jf(e){return e[1]}function Mf(e){return arguments.length?(this._y=e,this):this._y}function Pf(e){return e[2]}function Of(e){return arguments.length?(this._z=e,this):this._z}function Ri(e,n,r,i){var o=new In(n??Nf,r??jf,i??Pf,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?o:o.addAll(e)}function In(e,n,r,i,o,a,s,l,c){this._x=e,this._y=n,this._z=r,this._x0=i,this._y0=o,this._z0=a,this._x1=s,this._y1=l,this._z1=c,this._root=void 0}function Cr(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var ot=Ri.prototype=In.prototype;ot.copy=function(){var e=new In(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),n=this._root,r,i;if(!n)return e;if(!n.length)return e._root=Cr(n),e;for(r=[{source:n,target:e._root=new Array(8)}];n=r.pop();)for(var o=0;o<8;++o)(i=n.source[o])&&(i.length?r.push({source:i,target:n.target[o]=new Array(8)}):n.target[o]=Cr(i));return e};ot.add=df;ot.addAll=pf;ot.cover=gf;ot.data=yf;ot.extent=mf;ot.find=vf;ot.findAllWithinRadius=xf;ot.remove=bf;ot.removeAll=wf;ot.root=kf;ot.size=Af;ot.visit=Sf;ot.visitAfter=Cf;ot.x=Tf;ot.y=Mf;ot.z=Of;function zt(e){return function(){return e}}function Ot(e){return(e()-.5)*1e-6}function Ef(e){return e.index}function Nr(e,n){var r=e.get(n);if(!r)throw new Error("node not found: "+n);return r}function zf(e){var n=Ef,r=d,i,o=zt(30),a,s,l,c,u,h,f=1;e==null&&(e=[]);function d(g){return 1/Math.min(c[g.source.index],c[g.target.index])}function p(g){for(var k=0,N=e.length;k<f;++k)for(var x=0,b,A,T,j=0,R=0,P=0,z,D;x<N;++x)b=e[x],A=b.source,T=b.target,j=T.x+T.vx-A.x-A.vx||Ot(h),l>1&&(R=T.y+T.vy-A.y-A.vy||Ot(h)),l>2&&(P=T.z+T.vz-A.z-A.vz||Ot(h)),z=Math.sqrt(j*j+R*R+P*P),z=(z-a[x])/z*g*i[x],j*=z,R*=z,P*=z,T.vx-=j*(D=u[x]),l>1&&(T.vy-=R*D),l>2&&(T.vz-=P*D),A.vx+=j*(D=1-D),l>1&&(A.vy+=R*D),l>2&&(A.vz+=P*D)}function y(){if(s){var g,k=s.length,N=e.length,x=new Map(s.map((A,T)=>[n(A,T,s),A])),b;for(g=0,c=new Array(k);g<N;++g)b=e[g],b.index=g,typeof b.source!="object"&&(b.source=Nr(x,b.source)),typeof b.target!="object"&&(b.target=Nr(x,b.target)),c[b.source.index]=(c[b.source.index]||0)+1,c[b.target.index]=(c[b.target.index]||0)+1;for(g=0,u=new Array(N);g<N;++g)b=e[g],u[g]=c[b.source.index]/(c[b.source.index]+c[b.target.index]);i=new Array(N),_(),a=new Array(N),m()}}function _(){if(s)for(var g=0,k=e.length;g<k;++g)i[g]=+r(e[g],g,e)}function m(){if(s)for(var g=0,k=e.length;g<k;++g)a[g]=+o(e[g],g,e)}return p.initialize=function(g,...k){s=g,h=k.find(N=>typeof N=="function")||Math.random,l=k.find(N=>[1,2,3].includes(N))||2,y()},p.links=function(g){return arguments.length?(e=g,y(),p):e},p.id=function(g){return arguments.length?(n=g,p):n},p.iterations=function(g){return arguments.length?(f=+g,p):f},p.strength=function(g){return arguments.length?(r=typeof g=="function"?g:zt(+g),_(),p):r},p.distance=function(g){return arguments.length?(o=typeof g=="function"?g:zt(+g),m(),p):o},p}const Rf=1664525,Df=1013904223,Tr=4294967296;function If(){let e=1;return()=>(e=(Rf*e+Df)%Tr)/Tr}var jr=3;function Qe(e){return e.x}function Mr(e){return e.y}function $f(e){return e.z}var Ff=10,Lf=Math.PI*(3-Math.sqrt(5)),Uf=Math.PI*20/(9+Math.sqrt(221));function Hf(e,n){n=n||2;var r=Math.min(jr,Math.max(1,Math.round(n))),i,o=1,a=.001,s=1-Math.pow(a,1/300),l=0,c=.6,u=new Map,h=Cn(p),f=ve("tick","end"),d=If();e==null&&(e=[]);function p(){y(),f.call("tick",i),o<a&&(h.stop(),f.call("end",i))}function y(g){var k,N=e.length,x;g===void 0&&(g=1);for(var b=0;b<g;++b)for(o+=(l-o)*s,u.forEach(function(A){A(o)}),k=0;k<N;++k)x=e[k],x.fx==null?x.x+=x.vx*=c:(x.x=x.fx,x.vx=0),r>1&&(x.fy==null?x.y+=x.vy*=c:(x.y=x.fy,x.vy=0)),r>2&&(x.fz==null?x.z+=x.vz*=c:(x.z=x.fz,x.vz=0));return i}function _(){for(var g=0,k=e.length,N;g<k;++g){if(N=e[g],N.index=g,N.fx!=null&&(N.x=N.fx),N.fy!=null&&(N.y=N.fy),N.fz!=null&&(N.z=N.fz),isNaN(N.x)||r>1&&isNaN(N.y)||r>2&&isNaN(N.z)){var x=Ff*(r>2?Math.cbrt(.5+g):r>1?Math.sqrt(.5+g):g),b=g*Lf,A=g*Uf;r===1?N.x=x:r===2?(N.x=x*Math.cos(b),N.y=x*Math.sin(b)):(N.x=x*Math.sin(b)*Math.cos(A),N.y=x*Math.cos(b),N.z=x*Math.sin(b)*Math.sin(A))}(isNaN(N.vx)||r>1&&isNaN(N.vy)||r>2&&isNaN(N.vz))&&(N.vx=0,r>1&&(N.vy=0),r>2&&(N.vz=0))}}function m(g){return g.initialize&&g.initialize(e,d,r),g}return _(),i={tick:y,restart:function(){return h.restart(p),i},stop:function(){return h.stop(),i},numDimensions:function(g){return arguments.length?(r=Math.min(jr,Math.max(1,Math.round(g))),u.forEach(m),i):r},nodes:function(g){return arguments.length?(e=g,_(),u.forEach(m),i):e},alpha:function(g){return arguments.length?(o=+g,i):o},alphaMin:function(g){return arguments.length?(a=+g,i):a},alphaDecay:function(g){return arguments.length?(s=+g,i):+s},alphaTarget:function(g){return arguments.length?(l=+g,i):l},velocityDecay:function(g){return arguments.length?(c=1-g,i):1-c},randomSource:function(g){return arguments.length?(d=g,u.forEach(m),i):d},force:function(g,k){return arguments.length>1?(k==null?u.delete(g):u.set(g,m(k)),i):u.get(g)},find:function(){var g=Array.prototype.slice.call(arguments),k=g.shift()||0,N=(r>1?g.shift():null)||0,x=(r>2?g.shift():null)||0,b=g.shift()||1/0,A=0,T=e.length,j,R,P,z,D,U;for(b*=b,A=0;A<T;++A)D=e[A],j=k-D.x,R=N-(D.y||0),P=x-(D.z||0),z=j*j+R*R+P*P,z<b&&(U=D,b=z);return U},on:function(g,k){return arguments.length>1?(f.on(g,k),i):f.on(g)}}}function qf(){var e,n,r,i,o,a=zt(-30),s,l=1,c=1/0,u=.81;function h(y){var _,m=e.length,g=(n===1?Pi(e,Qe):n===2?Ei(e,Qe,Mr):n===3?Ri(e,Qe,Mr,$f):null).visitAfter(d);for(o=y,_=0;_<m;++_)r=e[_],g.visit(p)}function f(){if(e){var y,_=e.length,m;for(s=new Array(_),y=0;y<_;++y)m=e[y],s[m.index]=+a(m,y,e)}}function d(y){var _=0,m,g,k=0,N,x,b,A,T=y.length;if(T){for(N=x=b=A=0;A<T;++A)(m=y[A])&&(g=Math.abs(m.value))&&(_+=m.value,k+=g,N+=g*(m.x||0),x+=g*(m.y||0),b+=g*(m.z||0));_*=Math.sqrt(4/T),y.x=N/k,n>1&&(y.y=x/k),n>2&&(y.z=b/k)}else{m=y,m.x=m.data.x,n>1&&(m.y=m.data.y),n>2&&(m.z=m.data.z);do _+=s[m.data.index];while(m=m.next)}y.value=_}function p(y,_,m,g,k){if(!y.value)return!0;var N=[m,g,k][n-1],x=y.x-r.x,b=n>1?y.y-r.y:0,A=n>2?y.z-r.z:0,T=N-_,j=x*x+b*b+A*A;if(T*T/u<j)return j<c&&(x===0&&(x=Ot(i),j+=x*x),n>1&&b===0&&(b=Ot(i),j+=b*b),n>2&&A===0&&(A=Ot(i),j+=A*A),j<l&&(j=Math.sqrt(l*j)),r.vx+=x*y.value*o/j,n>1&&(r.vy+=b*y.value*o/j),n>2&&(r.vz+=A*y.value*o/j)),!0;if(y.length||j>=c)return;(y.data!==r||y.next)&&(x===0&&(x=Ot(i),j+=x*x),n>1&&b===0&&(b=Ot(i),j+=b*b),n>2&&A===0&&(A=Ot(i),j+=A*A),j<l&&(j=Math.sqrt(l*j)));do y.data!==r&&(T=s[y.data.index]*o/j,r.vx+=x*T,n>1&&(r.vy+=b*T),n>2&&(r.vz+=A*T));while(y=y.next)}return h.initialize=function(y,..._){e=y,i=_.find(m=>typeof m=="function")||Math.random,n=_.find(m=>[1,2,3].includes(m))||2,f()},h.strength=function(y){return arguments.length?(a=typeof y=="function"?y:zt(+y),f(),h):a},h.distanceMin=function(y){return arguments.length?(l=y*y,h):Math.sqrt(l)},h.distanceMax=function(y){return arguments.length?(c=y*y,h):Math.sqrt(c)},h.theta=function(y){return arguments.length?(u=y*y,h):Math.sqrt(u)},h}function Vf(e,n,r,i){var o,a,s=zt(.1),l,c;typeof e!="function"&&(e=zt(+e)),n==null&&(n=0),r==null&&(r=0),i==null&&(i=0);function u(f){for(var d=0,p=o.length;d<p;++d){var y=o[d],_=y.x-n||1e-6,m=(y.y||0)-r||1e-6,g=(y.z||0)-i||1e-6,k=Math.sqrt(_*_+m*m+g*g),N=(c[d]-k)*l[d]*f/k;y.vx+=_*N,a>1&&(y.vy+=m*N),a>2&&(y.vz+=g*N)}}function h(){if(o){var f,d=o.length;for(l=new Array(d),c=new Array(d),f=0;f<d;++f)c[f]=+e(o[f],f,o),l[f]=isNaN(c[f])?0:+s(o[f],f,o)}}return u.initialize=function(f,...d){o=f,a=d.find(p=>[1,2,3].includes(p))||2,h()},u.strength=function(f){return arguments.length?(s=typeof f=="function"?f:zt(+f),h(),u):s},u.radius=function(f){return arguments.length?(e=typeof f=="function"?f:zt(+f),h(),u):e},u.x=function(f){return arguments.length?(n=+f,u):n},u.y=function(f){return arguments.length?(r=+f,u):r},u.z=function(f){return arguments.length?(i=+f,u):i},u}const{abs:ee,cos:Pt,sin:Gt,acos:Wf,atan2:ne,sqrt:$t,pow:mt}=Math;function re(e){return e<0?-mt(-e,1/3):mt(e,1/3)}const Di=Math.PI,Se=2*Di,Ft=Di/2,Gf=1e-6,Je=Number.MAX_SAFE_INTEGER||9007199254740991,tn=Number.MIN_SAFE_INTEGER||-9007199254740991,Bf={x:0,y:0,z:0},O={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,n){const r=n(e);let i=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(i+=r.z*r.z),$t(i)},compute:function(e,n,r){if(e===0)return n[0].t=0,n[0];const i=n.length-1;if(e===1)return n[i].t=1,n[i];const o=1-e;let a=n;if(i===0)return n[0].t=e,n[0];if(i===1){const l={x:o*a[0].x+e*a[1].x,y:o*a[0].y+e*a[1].y,t:e};return r&&(l.z=o*a[0].z+e*a[1].z),l}if(i<4){let l=o*o,c=e*e,u,h,f,d=0;i===2?(a=[a[0],a[1],a[2],Bf],u=l,h=o*e*2,f=c):i===3&&(u=l*o,h=l*e*3,f=o*c*3,d=e*c);const p={x:u*a[0].x+h*a[1].x+f*a[2].x+d*a[3].x,y:u*a[0].y+h*a[1].y+f*a[2].y+d*a[3].y,t:e};return r&&(p.z=u*a[0].z+h*a[1].z+f*a[2].z+d*a[3].z),p}const s=JSON.parse(JSON.stringify(n));for(;s.length>1;){for(let l=0;l<s.length-1;l++)s[l]={x:s[l].x+(s[l+1].x-s[l].x)*e,y:s[l].y+(s[l+1].y-s[l].y)*e},typeof s[l].z<"u"&&(s[l].z=s[l].z+(s[l+1].z-s[l].z)*e);s.splice(s.length-1,1)}return s[0].t=e,s[0]},computeWithRatios:function(e,n,r,i){const o=1-e,a=r,s=n;let l=a[0],c=a[1],u=a[2],h=a[3],f;if(l*=o,c*=e,s.length===2)return f=l+c,{x:(l*s[0].x+c*s[1].x)/f,y:(l*s[0].y+c*s[1].y)/f,z:i?(l*s[0].z+c*s[1].z)/f:!1,t:e};if(l*=o,c*=2*o,u*=e*e,s.length===3)return f=l+c+u,{x:(l*s[0].x+c*s[1].x+u*s[2].x)/f,y:(l*s[0].y+c*s[1].y+u*s[2].y)/f,z:i?(l*s[0].z+c*s[1].z+u*s[2].z)/f:!1,t:e};if(l*=o,c*=1.5*o,u*=3*o,h*=e*e*e,s.length===4)return f=l+c+u+h,{x:(l*s[0].x+c*s[1].x+u*s[2].x+h*s[3].x)/f,y:(l*s[0].y+c*s[1].y+u*s[2].y+h*s[3].y)/f,z:i?(l*s[0].z+c*s[1].z+u*s[2].z+h*s[3].z)/f:!1,t:e}},derive:function(e,n){const r=[];for(let i=e,o=i.length,a=o-1;o>1;o--,a--){const s=[];for(let l=0,c;l<a;l++)c={x:a*(i[l+1].x-i[l].x),y:a*(i[l+1].y-i[l].y)},n&&(c.z=a*(i[l+1].z-i[l].z)),s.push(c);r.push(s),i=s}return r},between:function(e,n,r){return n<=e&&e<=r||O.approximately(e,n)||O.approximately(e,r)},approximately:function(e,n,r){return ee(e-n)<=(r||Gf)},length:function(e){const r=O.Tvalues.length;let i=0;for(let o=0,a;o<r;o++)a=.5*O.Tvalues[o]+.5,i+=O.Cvalues[o]*O.arcfn(a,e);return .5*i},map:function(e,n,r,i,o){const a=r-n,s=o-i,l=e-n,c=l/a;return i+s*c},lerp:function(e,n,r){const i={x:n.x+e*(r.x-n.x),y:n.y+e*(r.y-n.y)};return n.z!==void 0&&r.z!==void 0&&(i.z=n.z+e*(r.z-n.z)),i},pointToString:function(e){let n=e.x+"/"+e.y;return typeof e.z<"u"&&(n+="/"+e.z),n},pointsToString:function(e){return"["+e.map(O.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,n,r){const i=n.x-e.x,o=n.y-e.y,a=r.x-e.x,s=r.y-e.y,l=i*s-o*a,c=i*a+o*s;return ne(l,c)},round:function(e,n){const r=""+e,i=r.indexOf(".");return parseFloat(r.substring(0,i+1+n))},dist:function(e,n){const r=e.x-n.x,i=e.y-n.y;return $t(r*r+i*i)},closest:function(e,n){let r=mt(2,63),i,o;return e.forEach(function(a,s){o=O.dist(n,a),o<r&&(r=o,i=s)}),{mdist:r,mpos:i}},abcratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=mt(e,n)+mt(1-e,n),i=r-1;return ee(i/r)},projectionratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=mt(1-e,n),i=mt(e,n)+r;return r/i},lli8:function(e,n,r,i,o,a,s,l){const c=(e*i-n*r)*(o-s)-(e-r)*(o*l-a*s),u=(e*i-n*r)*(a-l)-(n-i)*(o*l-a*s),h=(e-r)*(a-l)-(n-i)*(o-s);return h==0?!1:{x:c/h,y:u/h}},lli4:function(e,n,r,i){const o=e.x,a=e.y,s=n.x,l=n.y,c=r.x,u=r.y,h=i.x,f=i.y;return O.lli8(o,a,s,l,c,u,h,f)},lli:function(e,n){return O.lli4(e,e.c,n,n.c)},makeline:function(e,n){return new J(e.x,e.y,(e.x+n.x)/2,(e.y+n.y)/2,n.x,n.y)},findbbox:function(e){let n=Je,r=Je,i=tn,o=tn;return e.forEach(function(a){const s=a.bbox();n>s.x.min&&(n=s.x.min),r>s.y.min&&(r=s.y.min),i<s.x.max&&(i=s.x.max),o<s.y.max&&(o=s.y.max)}),{x:{min:n,mid:(n+i)/2,max:i,size:i-n},y:{min:r,mid:(r+o)/2,max:o,size:o-r}}},shapeintersections:function(e,n,r,i,o){if(!O.bboxoverlap(n,i))return[];const a=[],s=[e.startcap,e.forward,e.back,e.endcap],l=[r.startcap,r.forward,r.back,r.endcap];return s.forEach(function(c){c.virtual||l.forEach(function(u){if(u.virtual)return;const h=c.intersects(u,o);h.length>0&&(h.c1=c,h.c2=u,h.s1=e,h.s2=r,a.push(h))})}),a},makeshape:function(e,n,r){const i=n.points.length,o=e.points.length,a=O.makeline(n.points[i-1],e.points[0]),s=O.makeline(e.points[o-1],n.points[0]),l={startcap:a,forward:e,back:n,endcap:s,bbox:O.findbbox([a,e,n,s])};return l.intersections=function(c){return O.shapeintersections(l,l.bbox,c,c.bbox,r)},l},getminmax:function(e,n,r){if(!r)return{min:0,max:0};let i=Je,o=tn,a,s;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let l=0,c=r.length;l<c;l++)a=r[l],s=e.get(a),s[n]<i&&(i=s[n]),s[n]>o&&(o=s[n]);return{min:i,mid:(i+o)/2,max:o,size:o-i}},align:function(e,n){const r=n.p1.x,i=n.p1.y,o=-ne(n.p2.y-i,n.p2.x-r),a=function(s){return{x:(s.x-r)*Pt(o)-(s.y-i)*Gt(o),y:(s.x-r)*Gt(o)+(s.y-i)*Pt(o)}};return e.map(a)},roots:function(e,n){n=n||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=e.length-1,i=O.align(e,n),o=function(T){return 0<=T&&T<=1};if(r===2){const T=i[0].y,j=i[1].y,R=i[2].y,P=T-2*j+R;if(P!==0){const z=-$t(j*j-T*R),D=-T+j,U=-(z+D)/P,C=-(-z+D)/P;return[U,C].filter(o)}else if(j!==R&&P===0)return[(2*j-R)/(2*j-2*R)].filter(o);return[]}const a=i[0].y,s=i[1].y,l=i[2].y,c=i[3].y;let u=-a+3*s-3*l+c,h=3*a-6*s+3*l,f=-3*a+3*s,d=a;if(O.approximately(u,0)){if(O.approximately(h,0))return O.approximately(f,0)?[]:[-d/f].filter(o);const T=$t(f*f-4*h*d),j=2*h;return[(T-f)/j,(-f-T)/j].filter(o)}h/=u,f/=u,d/=u;const p=(3*f-h*h)/3,y=p/3,_=(2*h*h*h-9*h*f+27*d)/27,m=_/2,g=m*m+y*y*y;let k,N,x,b,A;if(g<0){const T=-p/3,j=T*T*T,R=$t(j),P=-_/(2*R),z=P<-1?-1:P>1?1:P,D=Wf(z),U=re(R),C=2*U;return x=C*Pt(D/3)-h/3,b=C*Pt((D+Se)/3)-h/3,A=C*Pt((D+2*Se)/3)-h/3,[x,b,A].filter(o)}else{if(g===0)return k=m<0?re(-m):-re(m),x=2*k-h/3,b=-k-h/3,[x,b].filter(o);{const T=$t(g);return k=re(-m+T),N=re(m+T),[k-N-h/3].filter(o)}}},droots:function(e){if(e.length===3){const n=e[0],r=e[1],i=e[2],o=n-2*r+i;if(o!==0){const a=-$t(r*r-n*i),s=-n+r,l=-(a+s)/o,c=-(-a+s)/o;return[l,c]}else if(r!==i&&o===0)return[(2*r-i)/(2*(r-i))];return[]}if(e.length===2){const n=e[0],r=e[1];return n!==r?[n/(n-r)]:[]}return[]},curvature:function(e,n,r,i,o){let a,s,l,c,u=0,h=0;const f=O.compute(e,n),d=O.compute(e,r),p=f.x*f.x+f.y*f.y;if(i?(a=$t(mt(f.y*d.z-d.y*f.z,2)+mt(f.z*d.x-d.z*f.x,2)+mt(f.x*d.y-d.x*f.y,2)),s=mt(p+f.z*f.z,3/2)):(a=f.x*d.y-f.y*d.x,s=mt(p,3/2)),a===0||s===0)return{k:0,r:0};if(u=a/s,h=s/a,!o){const y=O.curvature(e-.001,n,r,i,!0).k,_=O.curvature(e+.001,n,r,i,!0).k;c=(_-u+(u-y))/2,l=(ee(_-u)+ee(u-y))/2}return{k:u,r:h,dk:c,adk:l}},inflections:function(e){if(e.length<4)return[];const n=O.align(e,{p1:e[0],p2:e.slice(-1)[0]}),r=n[2].x*n[1].y,i=n[3].x*n[1].y,o=n[1].x*n[2].y,a=n[3].x*n[2].y,s=18*(-3*r+2*i+3*o-a),l=18*(3*r-i-3*o),c=18*(o-r);if(O.approximately(s,0)){if(!O.approximately(l,0)){let d=-c/l;if(0<=d&&d<=1)return[d]}return[]}const u=2*s;if(O.approximately(u,0))return[];const h=l*l-4*s*c;if(h<0)return[];const f=Math.sqrt(h);return[(f-l)/u,-(l+f)/u].filter(function(d){return 0<=d&&d<=1})},bboxoverlap:function(e,n){const r=["x","y"],i=r.length;for(let o=0,a,s,l,c;o<i;o++)if(a=r[o],s=e[a].mid,l=n[a].mid,c=(e[a].size+n[a].size)/2,ee(s-l)>=c)return!1;return!0},expandbox:function(e,n){n.x.min<e.x.min&&(e.x.min=n.x.min),n.y.min<e.y.min&&(e.y.min=n.y.min),n.z&&n.z.min<e.z.min&&(e.z.min=n.z.min),n.x.max>e.x.max&&(e.x.max=n.x.max),n.y.max>e.y.max&&(e.y.max=n.y.max),n.z&&n.z.max>e.z.max&&(e.z.max=n.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,n,r){const i=e.bbox(),o=n.bbox(),a=1e5,s=r||.5;if(i.x.size+i.y.size<s&&o.x.size+o.y.size<s)return[(a*(e._t1+e._t2)/2|0)/a+"/"+(a*(n._t1+n._t2)/2|0)/a];let l=e.split(.5),c=n.split(.5),u=[{left:l.left,right:c.left},{left:l.left,right:c.right},{left:l.right,right:c.right},{left:l.right,right:c.left}];u=u.filter(function(f){return O.bboxoverlap(f.left.bbox(),f.right.bbox())});let h=[];return u.length===0||(u.forEach(function(f){h=h.concat(O.pairiteration(f.left,f.right,s))}),h=h.filter(function(f,d){return h.indexOf(f)===d})),h},getccenter:function(e,n,r){const i=n.x-e.x,o=n.y-e.y,a=r.x-n.x,s=r.y-n.y,l=i*Pt(Ft)-o*Gt(Ft),c=i*Gt(Ft)+o*Pt(Ft),u=a*Pt(Ft)-s*Gt(Ft),h=a*Gt(Ft)+s*Pt(Ft),f=(e.x+n.x)/2,d=(e.y+n.y)/2,p=(n.x+r.x)/2,y=(n.y+r.y)/2,_=f+l,m=d+c,g=p+u,k=y+h,N=O.lli8(f,d,_,m,p,y,g,k),x=O.dist(N,e);let b=ne(e.y-N.y,e.x-N.x),A=ne(n.y-N.y,n.x-N.x),T=ne(r.y-N.y,r.x-N.x),j;return b<T?((b>A||A>T)&&(b+=Se),b>T&&(j=T,T=b,b=j)):T<A&&A<b?(j=T,T=b,b=j):T+=Se,N.s=b,N.e=T,N.r=x,N},numberSort:function(e,n){return e-n}};class fe{constructor(n){this.curves=[],this._3d=!1,n&&(this.curves=n,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(n){return O.pointsToString(n.points)}).join(", ")+"]"}addCurve(n){this.curves.push(n),this._3d=this._3d||n._3d}length(){return this.curves.map(function(n){return n.length()}).reduce(function(n,r){return n+r})}curve(n){return this.curves[n]}bbox(){const n=this.curves;for(var r=n[0].bbox(),i=1;i<n.length;i++)O.expandbox(r,n[i].bbox());return r}offset(n){const r=[];return this.curves.forEach(function(i){r.push(...i.offset(n))}),new fe(r)}}const{abs:ie,min:Pr,max:Or,cos:Xf,sin:Yf,acos:Zf,sqrt:oe}=Math,Kf=Math.PI;class J{constructor(n){let r=n&&n.forEach?n:Array.from(arguments).slice(),i=!1;if(typeof r[0]=="object"){i=r.length;const p=[];r.forEach(function(y){["x","y","z"].forEach(function(_){typeof y[_]<"u"&&p.push(y[_])})}),r=p}let o=!1;const a=r.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(a!==6&&a!==8&&a!==9&&a!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const s=this._3d=!o&&(a===9||a===12)||n&&n[0]&&typeof n[0].z<"u",l=this.points=[];for(let p=0,y=s?3:2;p<a;p+=y){var c={x:r[p],y:r[p+1]};s&&(c.z=r[p+2]),l.push(c)}const u=this.order=l.length-1,h=this.dims=["x","y"];s&&h.push("z"),this.dimlen=h.length;const f=O.align(l,{p1:l[0],p2:l[u]}),d=O.dist(l[0],l[u]);this._linear=f.reduce((p,y)=>p+ie(y.y),0)<d/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(n,r,i,o){if(typeof o>"u"&&(o=.5),o===0)return new J(r,r,i);if(o===1)return new J(n,r,r);const a=J.getABC(2,n,r,i,o);return new J(n,a.A,i)}static cubicFromPoints(n,r,i,o,a){typeof o>"u"&&(o=.5);const s=J.getABC(3,n,r,i,o);typeof a>"u"&&(a=O.dist(r,s.C));const l=a*(1-o)/o,c=O.dist(n,i),u=(i.x-n.x)/c,h=(i.y-n.y)/c,f=a*u,d=a*h,p=l*u,y=l*h,_={x:r.x-f,y:r.y-d},m={x:r.x+p,y:r.y+y},g=s.A,k={x:g.x+(_.x-g.x)/(1-o),y:g.y+(_.y-g.y)/(1-o)},N={x:g.x+(m.x-g.x)/o,y:g.y+(m.y-g.y)/o},x={x:n.x+(k.x-n.x)/o,y:n.y+(k.y-n.y)/o},b={x:i.x+(N.x-i.x)/(1-o),y:i.y+(N.y-i.y)/(1-o)};return new J(n,x,b,i)}static getUtils(){return O}getUtils(){return J.getUtils()}static get PolyBezier(){return fe}valueOf(){return this.toString()}toString(){return O.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const n=this.points,r=n[0].x,i=n[0].y,o=["M",r,i,this.order===2?"Q":"C"];for(let a=1,s=n.length;a<s;a++)o.push(n[a].x),o.push(n[a].y);return o.join(" ")}setRatios(n){if(n.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=n,this._lut=[]}verify(){const n=this.coordDigest();n!==this._print&&(this._print=n,this.update())}coordDigest(){return this.points.map(function(n,r){return""+r+n.x+n.y+(n.z?n.z:0)}).join("")}update(){this._lut=[],this.dpoints=O.derive(this.points,this._3d),this.computedirection()}computedirection(){const n=this.points,r=O.angle(n[0],n[this.order],n[1]);this.clockwise=r>0}length(){return O.length(this.derivative.bind(this))}static getABC(n=2,r,i,o,a=.5){const s=O.projectionratio(a,n),l=1-s,c={x:s*r.x+l*o.x,y:s*r.y+l*o.y},u=O.abcratio(a,n);return{A:{x:i.x+(i.x-c.x)/u,y:i.y+(i.y-c.y)/u},B:i,C:c,S:r,E:o}}getABC(n,r){r=r||this.get(n);let i=this.points[0],o=this.points[this.order];return J.getABC(this.order,i,r,o,n)}getLUT(n){if(this.verify(),n=n||100,this._lut.length===n+1)return this._lut;this._lut=[],n++,this._lut=[];for(let r=0,i,o;r<n;r++)o=r/(n-1),i=this.compute(o),i.t=o,this._lut.push(i);return this._lut}on(n,r){r=r||5;const i=this.getLUT(),o=[];for(let a=0,s,l=0;a<i.length;a++)s=i[a],O.dist(s,n)<r&&(o.push(s),l+=a/i.length);return o.length?t/=o.length:!1}project(n){const r=this.getLUT(),i=r.length-1,o=O.closest(r,n),a=o.mpos,s=(a-1)/i,l=(a+1)/i,c=.1/i;let u=o.mdist,h=s,f=h,d;u+=1;for(let p;h<l+c;h+=c)d=this.compute(h),p=O.dist(n,d),p<u&&(u=p,f=h);return f=f<0?0:f>1?1:f,d=this.compute(f),d.t=f,d.d=u,d}get(n){return this.compute(n)}point(n){return this.points[n]}compute(n){return this.ratios?O.computeWithRatios(n,this.points,this.ratios,this._3d):O.compute(n,this.points,this._3d,this.ratios)}raise(){const n=this.points,r=[n[0]],i=n.length;for(let o=1,a,s;o<i;o++)a=n[o],s=n[o-1],r[o]={x:(i-o)/i*a.x+o/i*s.x,y:(i-o)/i*a.y+o/i*s.y};return r[i]=n[i-1],new J(r)}derivative(n){return O.compute(n,this.dpoints[0],this._3d)}dderivative(n){return O.compute(n,this.dpoints[1],this._3d)}align(){let n=this.points;return new J(O.align(n,{p1:n[0],p2:n[n.length-1]}))}curvature(n){return O.curvature(n,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return O.inflections(this.points)}normal(n){return this._3d?this.__normal3(n):this.__normal2(n)}__normal2(n){const r=this.derivative(n),i=oe(r.x*r.x+r.y*r.y);return{t:n,x:-r.y/i,y:r.x/i}}__normal3(n){const r=this.derivative(n),i=this.derivative(n+.01),o=oe(r.x*r.x+r.y*r.y+r.z*r.z),a=oe(i.x*i.x+i.y*i.y+i.z*i.z);r.x/=o,r.y/=o,r.z/=o,i.x/=a,i.y/=a,i.z/=a;const s={x:i.y*r.z-i.z*r.y,y:i.z*r.x-i.x*r.z,z:i.x*r.y-i.y*r.x},l=oe(s.x*s.x+s.y*s.y+s.z*s.z);s.x/=l,s.y/=l,s.z/=l;const c=[s.x*s.x,s.x*s.y-s.z,s.x*s.z+s.y,s.x*s.y+s.z,s.y*s.y,s.y*s.z-s.x,s.x*s.z-s.y,s.y*s.z+s.x,s.z*s.z];return{t:n,x:c[0]*r.x+c[1]*r.y+c[2]*r.z,y:c[3]*r.x+c[4]*r.y+c[5]*r.z,z:c[6]*r.x+c[7]*r.y+c[8]*r.z}}hull(n){let r=this.points,i=[],o=[],a=0;for(o[a++]=r[0],o[a++]=r[1],o[a++]=r[2],this.order===3&&(o[a++]=r[3]);r.length>1;){i=[];for(let s=0,l,c=r.length-1;s<c;s++)l=O.lerp(n,r[s],r[s+1]),o[a++]=l,i.push(l);r=i}return o}split(n,r){if(n===0&&r)return this.split(r).left;if(r===1)return this.split(n).right;const i=this.hull(n),o={left:this.order===2?new J([i[0],i[3],i[5]]):new J([i[0],i[4],i[7],i[9]]),right:this.order===2?new J([i[5],i[4],i[2]]):new J([i[9],i[8],i[6],i[3]]),span:i};return o.left._t1=O.map(0,0,1,this._t1,this._t2),o.left._t2=O.map(n,0,1,this._t1,this._t2),o.right._t1=O.map(n,0,1,this._t1,this._t2),o.right._t2=O.map(1,0,1,this._t1,this._t2),r?(r=O.map(r,n,1,0,1),o.right.split(r).left):o}extrema(){const n={};let r=[];return this.dims.forEach((function(i){let o=function(s){return s[i]},a=this.dpoints[0].map(o);n[i]=O.droots(a),this.order===3&&(a=this.dpoints[1].map(o),n[i]=n[i].concat(O.droots(a))),n[i]=n[i].filter(function(s){return s>=0&&s<=1}),r=r.concat(n[i].sort(O.numberSort))}).bind(this)),n.values=r.sort(O.numberSort).filter(function(i,o){return r.indexOf(i)===o}),n}bbox(){const n=this.extrema(),r={};return this.dims.forEach((function(i){r[i]=O.getminmax(this,i,n[i])}).bind(this)),r}overlaps(n){const r=this.bbox(),i=n.bbox();return O.bboxoverlap(r,i)}offset(n,r){if(typeof r<"u"){const i=this.get(n),o=this.normal(n),a={c:i,n:o,x:i.x+o.x*r,y:i.y+o.y*r};return this._3d&&(a.z=i.z+o.z*r),a}if(this._linear){const i=this.normal(0),o=this.points.map(function(a){const s={x:a.x+n*i.x,y:a.y+n*i.y};return a.z&&i.z&&(s.z=a.z+n*i.z),s});return[new J(o)]}return this.reduce().map(function(i){return i._linear?i.offset(n)[0]:i.scale(n)})}simple(){if(this.order===3){const o=O.angle(this.points[0],this.points[3],this.points[1]),a=O.angle(this.points[0],this.points[3],this.points[2]);if(o>0&&a<0||o<0&&a>0)return!1}const n=this.normal(0),r=this.normal(1);let i=n.x*r.x+n.y*r.y;return this._3d&&(i+=n.z*r.z),ie(Zf(i))<Kf/3}reduce(){let n,r=0,i=0,o=.01,a,s=[],l=[],c=this.extrema().values;for(c.indexOf(0)===-1&&(c=[0].concat(c)),c.indexOf(1)===-1&&c.push(1),r=c[0],n=1;n<c.length;n++)i=c[n],a=this.split(r,i),a._t1=r,a._t2=i,s.push(a),r=i;return s.forEach(function(u){for(r=0,i=0;i<=1;)for(i=r+o;i<=1+o;i+=o)if(a=u.split(r,i),!a.simple()){if(i-=o,ie(r-i)<o)return[];a=u.split(r,i),a._t1=O.map(r,0,1,u._t1,u._t2),a._t2=O.map(i,0,1,u._t1,u._t2),l.push(a),r=i;break}r<1&&(a=u.split(r,1),a._t1=O.map(r,0,1,u._t1,u._t2),a._t2=u._t2,l.push(a))}),l}translate(n,r,i){i=typeof i=="number"?i:r;const o=this.order;let a=this.points.map((s,l)=>(1-l/o)*r+l/o*i);return new J(this.points.map((s,l)=>({x:s.x+n.x*a[l],y:s.y+n.y*a[l]})))}scale(n){const r=this.order;let i=!1;if(typeof n=="function"&&(i=n),i&&r===2)return this.raise().scale(i);const o=this.clockwise,a=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):n,i?i(1):n);const s=i?i(0):n,l=i?i(1):n,c=[this.offset(0,10),this.offset(1,10)],u=[],h=O.lli4(c[0],c[0].c,c[1],c[1].c);if(!h)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(f){const d=u[f*r]=O.copy(a[f*r]);d.x+=(f?l:s)*c[f].n.x,d.y+=(f?l:s)*c[f].n.y}),i?([0,1].forEach(function(f){if(!(r===2&&f)){var d=a[f+1],p={x:d.x-h.x,y:d.y-h.y},y=i?i((f+1)/r):n;i&&!o&&(y=-y);var _=oe(p.x*p.x+p.y*p.y);p.x/=_,p.y/=_,u[f+1]={x:d.x+y*p.x,y:d.y+y*p.y}}}),new J(u)):([0,1].forEach(f=>{if(r===2&&f)return;const d=u[f*r],p=this.derivative(f),y={x:d.x+p.x,y:d.y+p.y};u[f+1]=O.lli4(d,y,h,a[f+1])}),new J(u))}outline(n,r,i,o){if(r=r===void 0?n:r,this._linear){const b=this.normal(0),A=this.points[0],T=this.points[this.points.length-1];let j,R,P;i===void 0&&(i=n,o=r),j={x:A.x+b.x*n,y:A.y+b.y*n},P={x:T.x+b.x*i,y:T.y+b.y*i},R={x:(j.x+P.x)/2,y:(j.y+P.y)/2};const z=[j,R,P];j={x:A.x-b.x*r,y:A.y-b.y*r},P={x:T.x-b.x*o,y:T.y-b.y*o},R={x:(j.x+P.x)/2,y:(j.y+P.y)/2};const D=[P,R,j],U=O.makeline(D[2],z[0]),C=O.makeline(z[2],D[0]),E=[U,new J(z),C,new J(D)];return new fe(E)}const a=this.reduce(),s=a.length,l=[];let c=[],u,h=0,f=this.length();const d=typeof i<"u"&&typeof o<"u";function p(b,A,T,j,R){return function(P){const z=j/T,D=(j+R)/T,U=A-b;return O.map(P,0,1,b+z*U,b+D*U)}}a.forEach(function(b){const A=b.length();d?(l.push(b.scale(p(n,i,f,h,A))),c.push(b.scale(p(-r,-o,f,h,A)))):(l.push(b.scale(n)),c.push(b.scale(-r))),h+=A}),c=c.map(function(b){return u=b.points,u[3]?b.points=[u[3],u[2],u[1],u[0]]:b.points=[u[2],u[1],u[0]],b}).reverse();const y=l[0].points[0],_=l[s-1].points[l[s-1].points.length-1],m=c[s-1].points[c[s-1].points.length-1],g=c[0].points[0],k=O.makeline(m,y),N=O.makeline(_,g),x=[k].concat(l).concat([N]).concat(c);return new fe(x)}outlineshapes(n,r,i){r=r||n;const o=this.outline(n,r).curves,a=[];for(let s=1,l=o.length;s<l/2;s++){const c=O.makeshape(o[s],o[l-s],i);c.startcap.virtual=s>1,c.endcap.virtual=s<l/2-1,a.push(c)}return a}intersects(n,r){return n?n.p1&&n.p2?this.lineIntersects(n):(n instanceof J&&(n=n.reduce()),this.curveintersects(this.reduce(),n,r)):this.selfintersects(r)}lineIntersects(n){const r=Pr(n.p1.x,n.p2.x),i=Pr(n.p1.y,n.p2.y),o=Or(n.p1.x,n.p2.x),a=Or(n.p1.y,n.p2.y);return O.roots(this.points,n).filter(s=>{var l=this.get(s);return O.between(l.x,r,o)&&O.between(l.y,i,a)})}selfintersects(n){const r=this.reduce(),i=r.length-2,o=[];for(let a=0,s,l,c;a<i;a++)l=r.slice(a,a+1),c=r.slice(a+2),s=this.curveintersects(l,c,n),o.push(...s);return o}curveintersects(n,r,i){const o=[];n.forEach(function(s){r.forEach(function(l){s.overlaps(l)&&o.push({left:s,right:l})})});let a=[];return o.forEach(function(s){const l=O.pairiteration(s.left,s.right,i);l.length>0&&(a=a.concat(l))}),a}arcs(n){return n=n||.5,this._iterate(n,[])}_error(n,r,i,o){const a=(o-i)/4,s=this.get(i+a),l=this.get(o-a),c=O.dist(n,r),u=O.dist(n,s),h=O.dist(n,l);return ie(u-c)+ie(h-c)}_iterate(n,r){let i=0,o=1,a;do{a=0,o=1;let s=this.get(i),l,c,u,h,f=!1,d=!1,p,y=o,_=1;do if(d=f,h=u,y=(i+o)/2,l=this.get(y),c=this.get(o),u=O.getccenter(s,l,c),u.interval={start:i,end:o},f=this._error(u,s,i,o)<=n,p=d&&!f,p||(_=o),f){if(o>=1){if(u.interval.end=_=1,h=u,o>1){let g={x:u.x+u.r*Xf(u.e),y:u.y+u.r*Yf(u.e)};u.e+=O.angle({x:u.x,y:u.y},g,this.get(1))}break}o=o+(o-i)/2}else o=y;while(!p&&a++<100);if(a>=100)break;h=h||u,r.push(h),i=_}while(o<1);return r}}function _n(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function Qf(e){if(Array.isArray(e))return e}function Jf(e){if(Array.isArray(e))return _n(e)}function th(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eh(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(c=(i=a.call(r)).done)&&(l.push(i.value),l.length!==n);c=!0);}catch(h){u=!0,o=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw o}}return l}}function nh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ih(e,n){if(e==null)return{};var r,i,o=oh(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],n.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function oh(e,n){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(n.includes(i))continue;r[i]=e[i]}return r}function ah(e,n){return Qf(e)||eh(e,n)||Ii(e,n)||nh()}function sh(e){return Jf(e)||th(e)||Ii(e)||rh()}function lh(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function uh(e){var n=lh(e,"string");return typeof n=="symbol"?n:n+""}function Ii(e,n){if(e){if(typeof e=="string")return _n(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_n(e,n):void 0}}var ch=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=(n instanceof Array?n.length?n:[void 0]:[n]).map(function(l){return{keyAccessor:l,isProp:!(l instanceof Function)}}),a=e.reduce(function(l,c){var u=l,h=c;return o.forEach(function(f,d){var p=f.keyAccessor,y=f.isProp,_;if(y){var m=h,g=m[p],k=ih(m,[p].map(uh));_=g,h=k}else _=p(h,d);d+1<o.length?(u.hasOwnProperty(_)||(u[_]={}),u=u[_]):r?(u.hasOwnProperty(_)||(u[_]=[]),u[_].push(h)):u[_]=h}),l},{});r instanceof Function&&function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;u===o.length?Object.keys(c).forEach(function(h){return c[h]=r(c[h])}):Object.values(c).forEach(function(h){return l(h,u+1)})}(a);var s=a;return i&&(s=[],function l(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];u.length===o.length?s.push({keys:u,vals:c}):Object.entries(c).forEach(function(h){var f=ah(h,2),d=f[0],p=f[1];return l(p,[].concat(sh(u),[d]))})}(a),n instanceof Array&&n.length===0&&s.length===1&&(s[0].keys=[])),s};function fh(e){for(var n=e.length/6|0,r=new Array(n),i=0;i<n;)r[i]="#"+e.slice(i*6,++i*6);return r}const hh=fh("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function dh(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var ph=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;dh(ph);function xn(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,i=Array(n);r<n;r++)i[r]=e[r];return i}function gh(e){if(Array.isArray(e))return e}function yh(e){if(Array.isArray(e))return xn(e)}function Er(e,n,r){if($i())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,n);var o=new(e.bind.apply(e,i));return o}function ye(e,n,r){return(n=wh(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function $i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($i=function(){return!!e})()}function mh(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vh(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,o,a,s,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,n!==0)for(;!(c=(i=a.call(r)).done)&&(l.push(i.value),l.length!==n);c=!0);}catch(h){u=!0,o=h}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw o}}return l}}function _h(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zr(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function Bt(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?zr(Object(r),!0).forEach(function(i){ye(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zr(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function he(e,n){return gh(e)||vh(e,n)||Fi(e,n)||_h()}function _t(e){return yh(e)||mh(e)||Fi(e)||xh()}function bh(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function wh(e){var n=bh(e,"string");return typeof n=="symbol"?n:n+""}function bn(e){"@babel/helpers - typeof";return bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},bn(e)}function Fi(e,n){if(e){if(typeof e=="string")return xn(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xn(e,n):void 0}}var kh=Ji(hh);function Rr(e,n,r){!n||typeof r!="string"||e.filter(function(i){return!i[r]}).forEach(function(i){i[r]=kh(n(i))})}function Ah(e,n){var r=e.nodes,i=e.links,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.nodeFilter,s=a===void 0?function(){return!0}:a,l=o.onLoopError,c=l===void 0?function(p){throw"Invalid DAG structure! Found cycle in node path: ".concat(p.join(" -> "),".")}:l,u={};r.forEach(function(p){return u[n(p)]={data:p,out:[],depth:-1,skip:!s(p)}}),i.forEach(function(p){var y=p.source,_=p.target,m=x(y),g=x(_);if(!u.hasOwnProperty(m))throw"Missing source node with id: ".concat(m);if(!u.hasOwnProperty(g))throw"Missing target node with id: ".concat(g);var k=u[m],N=u[g];k.out.push(N);function x(b){return bn(b)==="object"?n(b):b}});var h=[];d(Object.values(u));var f=Object.assign.apply(Object,[{}].concat(_t(Object.entries(u).filter(function(p){var y=he(p,2),_=y[1];return!_.skip}).map(function(p){var y=he(p,2),_=y[0],m=y[1];return ye({},_,m.depth)}))));return f;function d(p){for(var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,m=function(){var x=p[g];if(y.indexOf(x)!==-1){var b=[].concat(_t(y.slice(y.indexOf(x))),[x]).map(function(A){return n(A.data)});return h.some(function(A){return A.length===b.length&&A.every(function(T,j){return T===b[j]})})||(h.push(b),c(b)),1}_>x.depth&&(x.depth=_,d(x.out,[].concat(_t(y),[x]),_+(x.skip?0:1)))},g=0,k=p.length;g<k;g++)m()}}var Sh=2,st=function(n,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},Dr=function(n,r){if(!r.isShadow){var i=Z(r.linkDirectionalParticles);r.graphData.links.forEach(function(o){var a=Math.round(Math.abs(i(o)));a?o.__photons=_t(Array(a)).map(function(){return{}}):delete o.__photons})}},Le=Mn({props:{graphData:{default:{nodes:[],links:[]},onChange:function(n,r){r.engineRunning=!1,Dr(n,r)}},dagMode:{onChange:function(n,r){!n&&(r.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(n){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:st},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:st},nodeColor:{default:"color",triggerUpdate:!1,onChange:st},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:st},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:st},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:st},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:st},linkColor:{default:"color",triggerUpdate:!1,onChange:st},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:st},linkWidth:{default:1,triggerUpdate:!1,onChange:st},linkCurvature:{default:0,triggerUpdate:!1,onChange:st},linkCanvasObject:{triggerUpdate:!1,onChange:st},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:st},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:st},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:st},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:st},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:Dr},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaDecay(n)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaTarget(n)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.velocityDecay(n)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(n,r,i){return i===void 0?n.forceLayout.force(r):(n.forceLayout.force(r,i),this)},d3ReheatSimulation:function(n){return n.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(n){return n.cntTicks=0,n.startTickTime=new Date,n.engineRunning=!0,this},isEngineRunning:function(n){return!!n.engineRunning},tickFrame:function(n){return!n.isShadow&&r(),o(),!n.isShadow&&a(),!n.isShadow&&s(),i(),this;function r(){n.engineRunning&&(++n.cntTicks>n.cooldownTicks||new Date-n.startTickTime>n.cooldownTime||n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin?(n.engineRunning=!1,n.onEngineStop()):(n.forceLayout.tick(),n.onEngineTick()))}function i(){var l=Z(n.nodeVisibility),c=Z(n.nodeVal),u=Z(n.nodeColor),h=Z(n.nodeCanvasObjectMode),f=n.ctx,d=n.isShadow/n.globalScale,p=n.graphData.nodes.filter(l);f.save(),p.forEach(function(y){var _=h(y);if(n.nodeCanvasObject&&(_==="before"||_==="replace")&&(n.nodeCanvasObject(y,f,n.globalScale),_==="replace")){f.restore();return}var m=Math.sqrt(Math.max(0,c(y)||1))*n.nodeRelSize+d;f.beginPath(),f.arc(y.x,y.y,m,0,2*Math.PI,!1),f.fillStyle=u(y)||"rgba(31, 120, 180, 0.92)",f.fill(),n.nodeCanvasObject&&_==="after"&&n.nodeCanvasObject(y,n.ctx,n.globalScale)}),f.restore()}function o(){var l=Z(n.linkVisibility),c=Z(n.linkColor),u=Z(n.linkWidth),h=Z(n.linkLineDash),f=Z(n.linkCurvature),d=Z(n.linkCanvasObjectMode),p=n.ctx,y=n.isShadow*2,_=n.graphData.links.filter(l);_.forEach(A);var m=[],g=[],k=_;if(n.linkCanvasObject){var N=[],x=[];_.forEach(function(T){return({before:m,after:g,replace:N}[d(T)]||x).push(T)}),k=[].concat(_t(m),g,x),m=m.concat(N)}p.save(),m.forEach(function(T){return n.linkCanvasObject(T,p,n.globalScale)}),p.restore();var b=ch(k,[c,u,h]);p.save(),Object.entries(b).forEach(function(T){var j=he(T,2),R=j[0],P=j[1],z=!R||R==="undefined"?"rgba(0,0,0,0.15)":R;Object.entries(P).forEach(function(D){var U=he(D,2),C=U[0],E=U[1],M=(C||1)/n.globalScale+y;Object.entries(E).forEach(function($){var L=he($,2);L[0];var H=L[1],q=h(H[0]);p.beginPath(),H.forEach(function(V){var G=V.source,rt=V.target;if(!(!G||!rt||!G.hasOwnProperty("x")||!rt.hasOwnProperty("x"))){p.moveTo(G.x,G.y);var nt=V.__controlPoints;nt?p[nt.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(p,_t(nt).concat([rt.x,rt.y])):p.lineTo(rt.x,rt.y)}}),p.strokeStyle=z,p.lineWidth=M,p.setLineDash(q||[]),p.stroke()})})}),p.restore(),p.save(),g.forEach(function(T){return n.linkCanvasObject(T,p,n.globalScale)}),p.restore();function A(T){var j=f(T);if(!j){T.__controlPoints=null;return}var R=T.source,P=T.target;if(!(!R||!P||!R.hasOwnProperty("x")||!P.hasOwnProperty("x"))){var z=Math.sqrt(Math.pow(P.x-R.x,2)+Math.pow(P.y-R.y,2));if(z>0){var D=Math.atan2(P.y-R.y,P.x-R.x),U=z*j,C={x:(R.x+P.x)/2+U*Math.cos(D-Math.PI/2),y:(R.y+P.y)/2+U*Math.sin(D-Math.PI/2)};T.__controlPoints=[C.x,C.y]}else{var E=j*70;T.__controlPoints=[P.x,P.y-E,P.x+E,P.y]}}}}function a(){var l=1.6,c=.2,u=Z(n.linkDirectionalArrowLength),h=Z(n.linkDirectionalArrowRelPos),f=Z(n.linkVisibility),d=Z(n.linkDirectionalArrowColor||n.linkColor),p=Z(n.nodeVal),y=n.ctx;y.save(),n.graphData.links.filter(f).forEach(function(_){var m=u(_);if(!(!m||m<0)){var g=_.source,k=_.target;if(!(!g||!k||!g.hasOwnProperty("x")||!k.hasOwnProperty("x"))){var N=Math.sqrt(Math.max(0,p(g)||1))*n.nodeRelSize,x=Math.sqrt(Math.max(0,p(k)||1))*n.nodeRelSize,b=Math.min(1,Math.max(0,h(_))),A=d(_)||"rgba(0,0,0,0.28)",T=m/l/2,j=_.__controlPoints&&Er(J,[g.x,g.y].concat(_t(_.__controlPoints),[k.x,k.y])),R=j?function(M){return j.get(M)}:function(M){return{x:g.x+(k.x-g.x)*M||0,y:g.y+(k.y-g.y)*M||0}},P=j?j.length():Math.sqrt(Math.pow(k.x-g.x,2)+Math.pow(k.y-g.y,2)),z=N+m+(P-N-x-m)*b,D=R(z/P),U=R((z-m)/P),C=R((z-m*(1-c))/P),E=Math.atan2(D.y-U.y,D.x-U.x)-Math.PI/2;y.beginPath(),y.moveTo(D.x,D.y),y.lineTo(U.x+T*Math.cos(E),U.y+T*Math.sin(E)),y.lineTo(C.x,C.y),y.lineTo(U.x-T*Math.cos(E),U.y-T*Math.sin(E)),y.fillStyle=A,y.fill()}}}),y.restore()}function s(){var l=Z(n.linkDirectionalParticles),c=Z(n.linkDirectionalParticleSpeed),u=Z(n.linkDirectionalParticleOffset),h=Z(n.linkDirectionalParticleWidth),f=Z(n.linkVisibility),d=Z(n.linkDirectionalParticleColor||n.linkColor),p=n.ctx;p.save(),n.graphData.links.filter(f).forEach(function(y){var _=l(y);if(!(!y.hasOwnProperty("__photons")||!y.__photons.length)){var m=y.source,g=y.target;if(!(!m||!g||!m.hasOwnProperty("x")||!g.hasOwnProperty("x"))){var k=c(y),N=Math.abs(u(y)),x=y.__photons||[],b=Math.max(0,h(y)/2)/Math.sqrt(n.globalScale),A=d(y)||"rgba(0,0,0,0.28)";p.fillStyle=A;var T=y.__controlPoints?Er(J,[m.x,m.y].concat(_t(y.__controlPoints),[g.x,g.y])):null,j=0,R=!1;x.forEach(function(P){var z=!!P.__singleHop;if(P.hasOwnProperty("__progressRatio")||(P.__progressRatio=z?0:(j+N)/_),!z&&j++,P.__progressRatio+=k,P.__progressRatio>=1)if(!z)P.__progressRatio=P.__progressRatio%1;else{R=!0;return}var D=P.__progressRatio,U=T?T.get(D):{x:m.x+(g.x-m.x)*D||0,y:m.y+(g.y-m.y)*D||0};n.linkDirectionalParticleCanvasObject?n.linkDirectionalParticleCanvasObject(U.x,U.y,y,p,n.globalScale):(p.beginPath(),p.arc(U.x,U.y,b,0,2*Math.PI,!1),p.fill())}),R&&(y.__photons=y.__photons.filter(function(P){return!P.__singleHop||P.__progressRatio<=1}))}}}),p.restore()}},emitParticle:function(n,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:Hf().force("link",zf()).force("charge",qf()).force("center",Rc()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(n,r){r.ctx=n},update:function(n,r){n.engineRunning=!1,n.onUpdate(),n.nodeAutoColorBy!==null&&Rr(n.graphData.nodes,Z(n.nodeAutoColorBy),n.nodeColor),n.linkAutoColorBy!==null&&Rr(n.graphData.links,Z(n.linkAutoColorBy),n.linkColor),n.graphData.links.forEach(function(d){d.source=d[n.linkSource],d.target=d[n.linkTarget]}),n.forceLayout.stop().alpha(1).nodes(n.graphData.nodes);var i=n.forceLayout.force("link");i&&i.id(function(d){return d[n.nodeId]}).links(n.graphData.links);var o=n.dagMode&&Ah(n.graphData,function(d){return d[n.nodeId]},{nodeFilter:n.dagNodeFilter,onLoopError:n.onDagError||void 0}),a=Math.max.apply(Math,_t(Object.values(o||[]))),s=n.dagLevelDistance||n.graphData.nodes.length/(a||1)*Sh*(["radialin","radialout"].indexOf(n.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(r.dagMode)){var l=["lr","rl"].includes(r.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(d){return delete d[l]})}if(["lr","rl","td","bu"].includes(n.dagMode)){var c=["rl","bu"].includes(n.dagMode),u=function(p){return(o[p[n.nodeId]]-a/2)*s*(c?-1:1)},h=["lr","rl"].includes(n.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(d){return d[h]=u(d)})}n.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(n.dagMode)!==-1?Vf(function(d){var p=o[d[n.nodeId]]||-1;return(n.dagMode==="radialin"?a-p:p)*s}).strength(function(d){return n.dagNodeFilter(d)?1:0}):null);for(var f=0;f<n.warmupTicks&&!(n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin);f++)n.forceLayout.tick();this.resetCountdown(),n.onFinishUpdate()}});function Li(e,n){var r=e instanceof Array?e:[e],i=new n;return i._destructor&&i._destructor(),{linkProp:function(a){return{default:i[a](),onChange:function(l,c){r.forEach(function(u){return c[u][a](l)})},triggerUpdate:!1}},linkMethod:function(a){return function(s){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];var h=[];return r.forEach(function(f){var d=s[f],p=d[a].apply(d,c);p!==d&&h.push(p)}),h.length?h[0]:this}}}}var Ch=800,Nh=4,Th=5,Ui=Li("forceGraph",Le),jh=Li(["forceGraph","shadowGraph"],Le),Mh=Object.assign.apply(Object,_t(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return ye({},e,Ui.linkProp(e))})).concat(_t(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return ye({},e,jh.linkProp(e))})))),Ph=Object.assign.apply(Object,_t(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return ye({},e,Ui.linkMethod(e))})));function en(e){if(e.canvas){var n=e.canvas.width,r=e.canvas.height;n===300&&r===150&&(n=r=0);var i=window.devicePixelRatio;n/=i,r/=i,[e.canvas,e.shadowCanvas].forEach(function(a){a.style.width="".concat(e.width,"px"),a.style.height="".concat(e.height,"px"),a.width=e.width*i,a.height=e.height*i,!n&&!r&&a.getContext("2d").scale(i,i)});var o=kt(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-n)/2/o,(e.height-r)/2/o),e.needsRedraw=!0}}function Hi(e){var n=window.devicePixelRatio;e.setTransform(n,0,0,n,0,0)}function Ir(e,n,r){e.save(),Hi(e),e.clearRect(0,0,n,r),e.restore()}var Oh=Mn({props:Bt({width:{default:window.innerWidth,onChange:function(n,r){return en(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(n,r){return en(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(n,r){[n.nodes,n.links].every(function(o){return(o||[]).every(function(a){return!a.hasOwnProperty("__indexColor")})})&&r.colorTracker.reset(),[{type:"Node",objs:n.nodes},{type:"Link",objs:n.links}].forEach(i),r.forceGraph.graphData(n),r.shadowGraph.graphData(n);function i(o){var a=o.type,s=o.objs;s.filter(function(l){if(!l.hasOwnProperty("__indexColor"))return!0;var c=r.colorTracker.lookup(l.__indexColor);return!c||!c.hasOwnProperty("d")||c.d!==l}).forEach(function(l){l.__indexColor=r.colorTracker.register({type:a,d:l})})}},triggerUpdate:!1},backgroundColor:{onChange:function(n,r){r.canvas&&n&&(r.canvas.style.background=n)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(n,r){r.shadowGraph.nodeCanvasObject(n?function(i,o,a){return n(i,i.__indexColor,o,a)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(n,r){r.shadowGraph.linkCanvasObject(n?function(i,o,a){return n(i,i.__indexColor,o,a)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(n,r){r.zoom.scaleExtent([n,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(n,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],n])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(n,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},showPointerCursor:{default:!0,triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},Mh),aliases:{stopAnimation:"pauseAnimation"},methods:Bt({graph2ScreenCoords:function(n,r,i){var o=kt(n.canvas);return{x:r*o.k+o.x,y:i*o.k+o.y}},screen2GraphCoords:function(n,r,i){var o=kt(n.canvas);return{x:(r-o.x)/o.k,y:(i-o.y)/o.k}},centerAt:function(n,r,i,o){if(!n.canvas)return null;if(r!==void 0||i!==void 0){var a=Object.assign({},r!==void 0?{x:r}:{},i!==void 0?{y:i}:{});return o?n.tweenGroup.add(new sr(s()).to(a,o).easing(qt.Quadratic.Out).onUpdate(l).start()):l(a),this}return s();function s(){var c=kt(n.canvas);return{x:(n.width/2-c.x)/c.k,y:(n.height/2-c.y)/c.k}}function l(c){var u=c.x,h=c.y;n.zoom.translateTo(n.zoom.__baseElem,u===void 0?s().x:u,h===void 0?s().y:h),n.needsRedraw=!0}},zoom:function(n,r,i){if(!n.canvas)return null;if(r!==void 0)return i?n.tweenGroup.add(new sr({k:o()}).to({k:r},i).easing(qt.Quadratic.Out).onUpdate(function(s){var l=s.k;return a(l)}).start()):a(r),this;return o();function o(){return kt(n.canvas).k}function a(s){n.zoom.scaleTo(n.zoom.__baseElem,s),n.needsRedraw=!0}},zoomToFit:function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];var l=this.getGraphBbox.apply(this,a);if(l){var c={x:(l.x[0]+l.x[1])/2,y:(l.y[0]+l.y[1])/2},u=Math.max(1e-12,Math.min(1e12,(n.width-i*2)/(l.x[1]-l.x[0]),(n.height-i*2)/(l.y[1]-l.y[0])));this.centerAt(c.x,c.y,r),this.zoom(u,r)}return this},getGraphBbox:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=Z(n.nodeVal),o=function(l){return Math.sqrt(Math.max(0,i(l)||1))*n.nodeRelSize},a=n.graphData.nodes.filter(r).map(function(s){return{x:s.x,y:s.y,r:o(s)}});return a.length?{x:[Hn(a,function(s){return s.x-s.r}),qn(a,function(s){return s.x+s.r})],y:[Hn(a,function(s){return s.y-s.r}),qn(a,function(s){return s.y+s.r})]}:null},pauseAnimation:function(n){return n.animationFrameRequestId&&(cancelAnimationFrame(n.animationFrameRequestId),n.animationFrameRequestId=null),this},resumeAnimation:function(n){return n.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},Ph),stateInit:function(){return{lastSetZoom:1,zoom:Bl(),forceGraph:new Le,shadowGraph:new Le().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new dc,tweenGroup:new fi}},init:function(n,r){var i=this;n.innerHTML="";var o=document.createElement("div");o.classList.add("force-graph-container"),o.style.position="relative",n.appendChild(o),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),o.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var a=r.canvas.getContext("2d"),s=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),l={x:-1e12,y:-1e12},c=function(){var f=null,d=window.devicePixelRatio,p=l.x>0&&l.y>0?s.getImageData(l.x*d,l.y*d,1,1):null;return p&&(f=r.colorTracker.lookup(p.data)),f};vt(r.canvas).call(js().subject(function(){if(!r.enableNodeDrag)return null;var h=c();return h&&h.type==="Node"?h.d:null}).on("start",function(h){var f=h.subject;f.__initialDragPos={x:f.x,y:f.y,fx:f.fx,fy:f.fy},h.active||(f.fx=f.x,f.fy=f.y),r.canvas.classList.add("grabbable")}).on("drag",function(h){var f=h.subject,d=f.__initialDragPos,p=h,y=kt(r.canvas).k,_={x:d.x+(p.x-d.x)/y-f.x,y:d.y+(p.y-d.y)/y-f.y};["x","y"].forEach(function(m){return f["f".concat(m)]=f[m]=d[m]+(p[m]-d[m])/y}),!(!f.__dragged&&Th>=Math.sqrt(po(["x","y"].map(function(m){return Math.pow(h[m]-d[m],2)}))))&&(r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,f.__dragged=!0,r.onNodeDrag(f,_))}).on("end",function(h){var f=h.subject,d=f.__initialDragPos,p={x:f.x-d.x,y:f.y-d.y};d.fx===void 0&&(f.fx=void 0),d.fy===void 0&&(f.fy=void 0),delete f.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,f.__dragged&&(delete f.__dragged,r.onNodeDragEnd(f,p))})),r.zoom(r.zoom.__baseElem=vt(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(h){return!h.button&&r.enableZoomPanInteraction&&(h.type!=="wheel"||Z(r.enableZoomInteraction)(h))&&(h.type==="wheel"||Z(r.enablePanInteraction)(h))}).on("zoom",function(h){var f=h.transform;[a,s].forEach(function(d){Hi(d),d.translate(f.x,f.y),d.scale(f.k,f.k)}),r.isPointerDragging=!0,r.onZoom&&r.onZoom(Bt(Bt({},f),i.centerAt())),r.needsRedraw=!0}).on("end",function(h){r.isPointerDragging=!1,r.onZoomEnd&&r.onZoomEnd(Bt(Bt({},h.transform),i.centerAt()))}),en(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){kt(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=Nh/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)}),r.tooltip=new zc(o),["pointermove","pointerdown"].forEach(function(h){return o.addEventListener(h,function(f){h==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=f),!r.isPointerDragging&&f.type==="pointermove"&&r.onBackgroundClick&&(f.pressure>0||r.isPointerPressed)&&(f.pointerType==="mouse"||f.movementX===void 0||[f.movementX,f.movementY].some(function(y){return Math.abs(y)>1}))&&(r.isPointerDragging=!0);var d=p(o);l.x=f.pageX-d.left,l.y=f.pageY-d.top;function p(y){var _=y.getBoundingClientRect(),m=window.pageXOffset||document.documentElement.scrollLeft,g=window.pageYOffset||document.documentElement.scrollTop;return{top:_.top+g,left:_.left+m}}},{passive:!0})}),o.addEventListener("pointerup",function(h){if(r.isPointerPressed){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var f=[h,r.pointerDownEvent];requestAnimationFrame(function(){if(h.button===0)if(r.hoverObj){var d=r["on".concat(r.hoverObj.type,"Click")];d&&d.apply(void 0,[r.hoverObj.d].concat(f))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,f);if(h.button===2)if(r.hoverObj){var p=r["on".concat(r.hoverObj.type,"RightClick")];p&&p.apply(void 0,[r.hoverObj.d].concat(f))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,f)})}},{passive:!0}),o.addEventListener("contextmenu",function(h){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(h.preventDefault(),!1)}),r.forceGraph(a),r.shadowGraph(s);var u=xu(function(){Ir(s,r.width,r.height),r.shadowGraph.linkWidth(function(f){return Z(r.linkWidth)(f)+r.linkHoverPrecision});var h=kt(r.canvas);r.shadowGraph.globalScale(h.k).tickFrame()},Ch);r.flushShadowCanvas=u.flush,(this._animationCycle=function h(){var f=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(N){return N.__photons&&N.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var d=r.isPointerDragging?null:c();if(d!==r.hoverObj){var p=r.hoverObj,y=p?p.type:null,_=d?d.type:null;if(y&&y!==_){var m=r["on".concat(y,"Hover")];m&&m(null,p.d)}if(_){var g=r["on".concat(_,"Hover")];g&&g(d.d,y===_?p.d:null)}r.tooltip.content(d&&Z(r["".concat(d.type.toLowerCase(),"Label")])(d.d)||null),r.canvas.classList[(d&&r["on".concat(_,"Click")]||!d&&r.onBackgroundClick)&&Z(r.showPointerCursor)(d==null?void 0:d.d)?"add":"remove"]("clickable"),r.hoverObj=d}f&&u()}if(f){Ir(a,r.width,r.height);var k=kt(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(a,k),r.forceGraph.globalScale(k).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(a,k)}r.tweenGroup.update(),r.animationFrameRequestId=requestAnimationFrame(h)})()},update:function(n){}}),qi={exports:{}},Eh="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zh=Eh,Rh=zh;function Vi(){}function Wi(){}Wi.resetWarningCache=Vi;var Dh=function(){function e(i,o,a,s,l,c){if(c!==Rh){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function n(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:Wi,resetWarningCache:Vi};return r.PropTypes=r,r};qi.exports=Dh();var Ih=qi.exports;const v=Xi(Ih),Be={width:v.number,height:v.number,graphData:v.shape({nodes:v.arrayOf(v.object).isRequired,links:v.arrayOf(v.object).isRequired}),backgroundColor:v.string,nodeRelSize:v.number,nodeId:v.string,nodeLabel:v.oneOfType([v.string,v.func]),nodeVal:v.oneOfType([v.number,v.string,v.func]),nodeVisibility:v.oneOfType([v.bool,v.string,v.func]),nodeColor:v.oneOfType([v.string,v.func]),nodeAutoColorBy:v.oneOfType([v.string,v.func]),onNodeHover:v.func,onNodeClick:v.func,linkSource:v.string,linkTarget:v.string,linkLabel:v.oneOfType([v.string,v.func]),linkVisibility:v.oneOfType([v.bool,v.string,v.func]),linkColor:v.oneOfType([v.string,v.func]),linkAutoColorBy:v.oneOfType([v.string,v.func]),linkWidth:v.oneOfType([v.number,v.string,v.func]),linkCurvature:v.oneOfType([v.number,v.string,v.func]),linkDirectionalArrowLength:v.oneOfType([v.number,v.string,v.func]),linkDirectionalArrowColor:v.oneOfType([v.string,v.func]),linkDirectionalArrowRelPos:v.oneOfType([v.number,v.string,v.func]),linkDirectionalParticles:v.oneOfType([v.number,v.string,v.func]),linkDirectionalParticleSpeed:v.oneOfType([v.number,v.string,v.func]),linkDirectionalParticleOffset:v.oneOfType([v.number,v.string,v.func]),linkDirectionalParticleWidth:v.oneOfType([v.number,v.string,v.func]),linkDirectionalParticleColor:v.oneOfType([v.string,v.func]),onLinkHover:v.func,onLinkClick:v.func,dagMode:v.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:v.number,dagNodeFilter:v.func,onDagError:v.func,d3AlphaMin:v.number,d3AlphaDecay:v.number,d3VelocityDecay:v.number,warmupTicks:v.number,cooldownTicks:v.number,cooldownTime:v.number,onEngineTick:v.func,onEngineStop:v.func,getGraphBbox:v.func},Gi={zoomToFit:v.func,onNodeRightClick:v.func,onNodeDrag:v.func,onNodeDragEnd:v.func,onLinkRightClick:v.func,linkHoverPrecision:v.number,onBackgroundClick:v.func,onBackgroundRightClick:v.func,showPointerCursor:v.oneOfType([v.bool,v.func]),enablePointerInteraction:v.bool,enableNodeDrag:v.bool},$n={showNavInfo:v.bool,nodeOpacity:v.number,nodeResolution:v.number,nodeThreeObject:v.oneOfType([v.object,v.string,v.func]),nodeThreeObjectExtend:v.oneOfType([v.bool,v.string,v.func]),nodePositionUpdate:v.func,linkOpacity:v.number,linkResolution:v.number,linkCurveRotation:v.oneOfType([v.number,v.string,v.func]),linkMaterial:v.oneOfType([v.object,v.string,v.func]),linkThreeObject:v.oneOfType([v.object,v.string,v.func]),linkThreeObjectExtend:v.oneOfType([v.bool,v.string,v.func]),linkPositionUpdate:v.func,linkDirectionalArrowResolution:v.number,linkDirectionalParticleResolution:v.number,linkDirectionalParticleThreeObject:v.oneOfType([v.object,v.string,v.func]),forceEngine:v.oneOf(["d3","ngraph"]),ngraphPhysics:v.object,numDimensions:v.oneOf([1,2,3])},$h=Object.assign({},Be,Gi,{linkLineDash:v.oneOfType([v.arrayOf(v.number),v.string,v.func]),nodeCanvasObjectMode:v.oneOfType([v.string,v.func]),nodeCanvasObject:v.func,nodePointerAreaPaint:v.func,linkCanvasObjectMode:v.oneOfType([v.string,v.func]),linkCanvasObject:v.func,linkPointerAreaPaint:v.func,linkDirectionalParticleCanvasObject:v.func,autoPauseRedraw:v.bool,minZoom:v.number,maxZoom:v.number,enableZoomInteraction:v.oneOfType([v.bool,v.func]),enablePanInteraction:v.oneOfType([v.bool,v.func]),onZoom:v.func,onZoomEnd:v.func,onRenderFramePre:v.func,onRenderFramePost:v.func});Object.assign({},Be,Gi,$n,{enableNavigationControls:v.bool,controlType:v.oneOf(["trackball","orbit","fly"]),rendererConfig:v.object,extraRenderers:v.arrayOf(v.shape({render:v.func.isRequired}))});Object.assign({},Be,$n,{nodeDesc:v.oneOfType([v.string,v.func]),linkDesc:v.oneOfType([v.string,v.func])});Object.assign({},Be,$n,{markerAttrs:v.object,yOffset:v.number,glScale:v.number});const Fn=Uo(Oh,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});Fn.displayName="ForceGraph2D";Fn.propTypes=$h;const ed=()=>{const e=Yi(),n=K.useRef(),[r,i]=K.useState([]),[o,a]=K.useState(null),[s,l]=K.useState(!1),[c,u]=K.useState({nodes:[],links:[]}),[h,f]=K.useState({}),[d,p]=K.useState([]),[y,_]=K.useState("network"),[m,g]=K.useState("all"),[k,N]=K.useState("all"),[x,b]=K.useState(""),[A,T]=K.useState(!0),[j,R]=K.useState({width:800,height:600}),[P,z]=K.useState({temperature:{min:20,max:100},static_pressure:{min:30,max:120},differential_pressure:{min:0,max:300},volume:{min:3e3,max:25e3},total_volume_flow:{min:5e3,max:4e4}});K.useEffect(()=>{D();const S=setInterval(D,1e4);return()=>clearInterval(S)},[]),K.useEffect(()=>{r.length>0&&C()},[r,h,P,k,m]),K.useEffect(()=>{const S=()=>{const I=document.getElementById("graph-container");I&&R({width:I.offsetWidth,height:I.offsetHeight})};return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[y]);const D=async()=>{try{const S=await Zi();i(S);const I={};await Promise.all(S.map(async X=>{try{const Y=await Ki.get(`/analytics/readings?device_id=${X.id}&page_size=1&page=1`);Y.data&&Y.data.data&&Y.data.data.length>0&&(I[X.id]=Y.data.data[0])}catch(Y){console.error(`Error fetching data for device ${X.id}:`,Y)}})),f(I),U(S,I)}catch(S){console.error("Error fetching devices:",S)}},U=(S,I)=>{const X=[];S.forEach(Y=>{const B=I[Y.id];B&&Object.keys(P).forEach(W=>{const at=B[W],it=P[W];at!=null&&(at<it.min?X.push({device_id:Y.id,device_name:Y.device_name,client_id:Y.client_id,parameter:W,value:at,threshold_type:"min",threshold_value:it.min,severity:at<it.min*.8?"critical":"warning",message:`${E(W)} is below minimum threshold`,timestamp:B.timestamp}):at>it.max&&X.push({device_id:Y.id,device_name:Y.device_name,client_id:Y.client_id,parameter:W,value:at,threshold_type:"max",threshold_value:it.max,severity:at>it.max*1.2?"critical":"warning",message:`${E(W)} is above maximum threshold`,timestamp:B.timestamp}))})}),p(X)},C=()=>{const S=[],I=[];S.push({id:"hub",name:"SNGPL Network",type:"hub",val:25,color:"#3b82f6"});const X={};let Y=r;k!=="all"&&(Y=r.filter(B=>{if(B.client_id.startsWith("SMS-")){const W=B.client_id.split("-");return W.length>=2&&W[1]===k}return k==="OTHER"&&!B.client_id.startsWith("SMS-")})),Y.forEach(B=>{const W=h[B.id],at=d.filter(It=>It.device_id===B.id);let it="healthy",xe="#10b981";if(at.some(It=>It.severity==="critical")?(it="critical",xe="#ef4444"):at.some(It=>It.severity==="warning")?(it="warning",xe="#f59e0b"):(!B.is_active||!W)&&(it="offline",xe="#6b7280"),m!=="all"&&(m==="critical"&&it!=="critical"||m==="warning"&&it!=="warning"))return;let Wt="OTHER";if(B.client_id.startsWith("SMS-")){const It=B.client_id.split("-");It.length>=2&&(Wt=It[1])}X[Wt]||(X[Wt]={id:`section-${Wt}`,name:`Section ${Wt}`,type:"section",val:15,color:"#6366f1"}),S.push({id:B.id.toString(),name:B.device_name,client_id:B.client_id,type:"device",status:it,section:Wt,val:at.length>0?10:6,color:xe,alerts:at.length,device:B,reading:W})}),Object.values(X).forEach(B=>{S.push(B),I.push({source:"hub",target:B.id,distance:120})}),Y.forEach(B=>{var at;let W="OTHER";if(B.client_id.startsWith("SMS-")){const it=B.client_id.split("-");it.length>=2&&(W=it[1])}I.push({source:`section-${W}`,target:B.id.toString(),distance:60,color:(at=S.find(it=>it.id===B.id.toString()))==null?void 0:at.color})}),u({nodes:S,links:I})},E=S=>({temperature:"Temperature",static_pressure:"Static Pressure",differential_pressure:"Differential Pressure",volume:"Volume",total_volume_flow:"Total Volume Flow"})[S]||S,M=S=>({temperature:"F",static_pressure:"PSI",differential_pressure:"IWC",volume:"MCF",total_volume_flow:"MCF/day"})[S]||"",$=K.useCallback(S=>{S.type==="device"&&a(S)},[]),L=(S,I,X)=>{z(Y=>({...Y,[S]:{...Y[S],[I]:parseFloat(X)}}))},H=()=>{U(r,h),l(!1)},q=()=>{const S=d.map(W=>({device:W.device_name,client_id:W.client_id,parameter:W.parameter,value:W.value,threshold:W.threshold_value,severity:W.severity,timestamp:W.timestamp})),I=[["Device","Client ID","Parameter","Value","Threshold","Severity","Timestamp"],...S.map(W=>[W.device,W.client_id,W.parameter,W.value,W.threshold,W.severity,W.timestamp])].map(W=>W.join(",")).join(`
`),X=new Blob([I],{type:"text/csv"}),Y=window.URL.createObjectURL(X),B=document.createElement("a");B.href=Y,B.download=`alerts_${new Date().toISOString()}.csv`,B.click()},V=r.length,G=r.filter(S=>S.is_active).length,rt=d.filter(S=>S.severity==="critical").length,nt=d.filter(S=>S.severity==="warning").length,ct=r.filter(S=>d.filter(X=>X.device_id===S.id).length===0&&S.is_active).length,ht=d.filter(S=>!(m!=="all"&&S.severity!==m||x&&!S.device_name.toLowerCase().includes(x.toLowerCase())&&!S.client_id.toLowerCase().includes(x.toLowerCase()))),dt=["I","II","III","IV","V","OTHER"];return w.jsx(to,{children:w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[w.jsxs("div",{children:[w.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[w.jsx(eo,{className:"w-8 h-8 text-blue-600"}),"Deep Analytics & Health Monitor"]}),w.jsx("p",{className:"text-gray-600 mt-1",children:"Real-time network health visualization with intelligent alerting"})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all shadow-md hover:shadow-lg",children:[w.jsx(no,{className:"w-4 h-4"}),"Thresholds"]}),w.jsxs("button",{onClick:q,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all shadow-md hover:shadow-lg",children:[w.jsx(ro,{className:"w-4 h-4"}),"Export"]})]})]}),w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[w.jsxs("div",{className:"glass p-4 rounded-xl hover:scale-105 transition-transform cursor-pointer",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Devices"}),w.jsx(io,{className:"w-5 h-5 text-blue-600"})]}),w.jsx("div",{className:"text-3xl font-bold text-gray-900",children:V}),w.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[G," active"]})]}),w.jsxs("div",{className:"glass p-4 rounded-xl hover:scale-105 transition-transform cursor-pointer",onClick:()=>g("all"),children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Healthy"}),w.jsx(Xe,{className:"w-5 h-5 text-green-600"})]}),w.jsx("div",{className:"text-3xl font-bold text-green-600",children:ct}),w.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[(ct/V*100).toFixed(1),"%"]})]}),w.jsxs("div",{className:"glass p-4 rounded-xl hover:scale-105 transition-transform cursor-pointer",onClick:()=>g("warning"),children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Warnings"}),w.jsx(oo,{className:"w-5 h-5 text-orange-600"})]}),w.jsx("div",{className:"text-3xl font-bold text-orange-600",children:nt}),w.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Requires attention"})]}),w.jsxs("div",{className:"glass p-4 rounded-xl hover:scale-105 transition-transform cursor-pointer",onClick:()=>g("critical"),children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Critical"}),w.jsx(Vn,{className:"w-5 h-5 text-red-600"})]}),w.jsx("div",{className:"text-3xl font-bold text-red-600",children:rt}),w.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Urgent action needed"})]}),w.jsxs("div",{className:"glass p-4 rounded-xl hover:scale-105 transition-transform cursor-pointer",children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Offline"}),w.jsx(co,{className:"w-5 h-5 text-gray-600"})]}),w.jsx("div",{className:"text-3xl font-bold text-gray-600",children:V-G}),w.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"No recent data"})]})]}),w.jsx("div",{className:"glass rounded-xl p-4",children:w.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>_("network"),className:`px-4 py-2 rounded-lg font-medium transition-all ${y==="network"?"bg-blue-600 text-white shadow-md":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Network View"}),w.jsx("button",{onClick:()=>_("list"),className:`px-4 py-2 rounded-lg font-medium transition-all ${y==="list"?"bg-blue-600 text-white shadow-md":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"List View"})]}),w.jsxs("select",{value:k,onChange:S=>N(S.target.value),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[w.jsx("option",{value:"all",children:"All Sections"}),dt.map(S=>w.jsxs("option",{value:S,children:["Section ",S]},S))]}),w.jsxs("select",{value:m,onChange:S=>g(S.target.value),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[w.jsx("option",{value:"all",children:"All Status"}),w.jsx("option",{value:"critical",children:"Critical Only"}),w.jsx("option",{value:"warning",children:"Warning Only"})]}),y==="network"&&w.jsxs("button",{onClick:()=>T(!A),className:"flex items-center gap-2 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-all",children:[A?w.jsx(ao,{className:"w-4 h-4"}):w.jsx(so,{className:"w-4 h-4"}),"Labels"]}),w.jsx("div",{className:"flex-1 min-w-[200px]",children:w.jsxs("div",{className:"relative",children:[w.jsx(fo,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),w.jsx("input",{type:"text",placeholder:"Search devices...",value:x,onChange:S=>b(S.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})})]})}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[w.jsx("div",{className:`${y==="network"?"lg:col-span-2":"lg:col-span-3"}`,children:w.jsxs("div",{className:"glass rounded-xl p-6 h-[700px] flex flex-col",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:y==="network"?"Network Health Map":"Device Health List"}),w.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[w.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"Live Updates"]})]}),y==="network"?w.jsxs("div",{id:"graph-container",className:"flex-1 bg-slate-950 rounded-lg relative overflow-hidden",children:[c.nodes.length>0&&w.jsx(Fn,{ref:n,graphData:c,width:j.width,height:j.height-100,backgroundColor:"#020617",nodeLabel:S=>A?S.name:"",nodeColor:"color",nodeVal:"val",nodeCanvasObject:(S,I,X)=>{const Y=S.name,B=S.type==="hub"?14/X:S.type==="section"?12/X:10/X;if(I.beginPath(),I.arc(S.x,S.y,S.val,0,2*Math.PI,!1),S.type==="hub"){const W=I.createRadialGradient(S.x,S.y,0,S.x,S.y,S.val);W.addColorStop(0,S.color),W.addColorStop(1,"#1e40af"),I.fillStyle=W}else I.fillStyle=S.color;I.fill(),S.alerts>0&&(I.shadowBlur=20,I.shadowColor=S.color,I.fill(),I.shadowBlur=0),I.strokeStyle=S.type==="hub"?"#60a5fa":"#ffffff",I.lineWidth=S.type==="hub"?3:2,I.stroke(),A&&(I.font=`${B}px Inter, sans-serif`,I.textAlign="center",I.textBaseline="middle",I.fillStyle="#ffffff",I.fillText(S.type==="device"?S.client_id:Y,S.x,S.y+S.val+15)),S.alerts>0&&(I.beginPath(),I.arc(S.x+S.val-2,S.y-S.val+2,8,0,2*Math.PI),I.fillStyle="#ef4444",I.fill(),I.strokeStyle="#ffffff",I.lineWidth=2,I.stroke(),I.fillStyle="#ffffff",I.font="10px Inter, sans-serif",I.textAlign="center",I.fillText(S.alerts,S.x+S.val-2,S.y-S.val+3))},linkColor:S=>S.color||"#4b5563",linkWidth:2,linkDirectionalParticles:1,linkDirectionalParticleWidth:3,linkDirectionalParticleSpeed:.005,onNodeClick:$,enableNodeDrag:!0,cooldownTime:2e3,d3VelocityDecay:.4}),w.jsxs("div",{className:"absolute bottom-4 left-4 bg-black/70 backdrop-blur-sm p-3 rounded-lg",children:[w.jsx("div",{className:"text-white text-xs font-semibold mb-2",children:"Health Status"}),w.jsxs("div",{className:"space-y-1.5",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),w.jsx("span",{className:"text-white text-xs",children:"Healthy"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),w.jsx("span",{className:"text-white text-xs",children:"Warning"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),w.jsx("span",{className:"text-white text-xs",children:"Critical"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-500"}),w.jsx("span",{className:"text-white text-xs",children:"Offline"})]})]})]})]}):w.jsx("div",{className:"flex-1 overflow-y-auto",children:w.jsx("div",{className:"space-y-2",children:c.nodes.filter(S=>S.type==="device").map(S=>w.jsx("div",{onClick:()=>a(S),className:`p-4 rounded-lg border-2 cursor-pointer transition-all hover:shadow-lg ${S.status==="critical"?"bg-red-50 border-red-300 hover:border-red-500":S.status==="warning"?"bg-orange-50 border-orange-300 hover:border-orange-500":S.status==="healthy"?"bg-green-50 border-green-300 hover:border-green-500":"bg-gray-50 border-gray-300 hover:border-gray-500"}`,children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:`w-4 h-4 rounded-full ${S.status==="critical"?"bg-red-500":S.status==="warning"?"bg-orange-500":S.status==="healthy"?"bg-green-500":"bg-gray-500"}`}),w.jsxs("div",{children:[w.jsx("div",{className:"font-semibold text-gray-900",children:S.name}),w.jsx("div",{className:"text-sm text-gray-600",children:S.client_id})]})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[S.alerts>0&&w.jsxs("span",{className:"px-3 py-1 bg-red-500 text-white rounded-full text-sm font-medium",children:[S.alerts," Alert",S.alerts>1?"s":""]}),w.jsx("span",{className:"text-gray-400",children:""})]})]})},S.id))})})]})}),y==="network"&&w.jsxs("div",{className:"glass rounded-xl p-6 h-[700px] flex flex-col",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[w.jsx(lo,{className:"w-5 h-5 text-red-600"}),"Active Alerts"]}),w.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm font-medium",children:ht.length})]}),w.jsx("div",{className:"flex-1 overflow-y-auto",children:ht.length===0?w.jsxs("div",{className:"text-center py-16",children:[w.jsx(Xe,{className:"w-16 h-16 mx-auto text-green-500 mb-3"}),w.jsx("p",{className:"text-gray-600 font-medium",children:"All Systems Normal"}),w.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"No alerts detected"})]}):w.jsx("div",{className:"space-y-2",children:ht.sort((S,I)=>S.severity==="critical"&&I.severity!=="critical"?-1:S.severity!=="critical"&&I.severity==="critical"?1:0).map((S,I)=>w.jsxs("div",{className:`p-3 rounded-lg border-l-4 cursor-pointer hover:shadow-md transition-all ${S.severity==="critical"?"bg-red-50 border-red-500 hover:bg-red-100":"bg-orange-50 border-orange-500 hover:bg-orange-100"}`,onClick:()=>{const X=c.nodes.find(Y=>Y.id===S.device_id.toString());X&&a(X)},children:[w.jsxs("div",{className:"flex items-start justify-between mb-2",children:[w.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[w.jsx(Vn,{className:`w-4 h-4 flex-shrink-0 ${S.severity==="critical"?"text-red-600":"text-orange-600"}`}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("div",{className:"font-semibold text-gray-900 text-sm truncate",children:S.device_name}),w.jsx("div",{className:"text-xs text-gray-600",children:S.client_id})]})]}),w.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium whitespace-nowrap ${S.severity==="critical"?"bg-red-200 text-red-800":"bg-orange-200 text-orange-800"}`,children:S.severity.toUpperCase()})]}),w.jsx("p",{className:"text-sm text-gray-700 mb-1",children:S.message}),w.jsxs("div",{className:"flex items-center justify-between text-xs",children:[w.jsxs("span",{className:"text-gray-600",children:[E(S.parameter),":",w.jsx("span",{className:"font-semibold ml-1",children:S.value.toFixed(2)})," ",M(S.parameter)]}),S.threshold_type==="max"?w.jsx(uo,{className:"w-3 h-3 text-red-500"}):w.jsx(ho,{className:"w-3 h-3 text-red-500"})]})]},I))})})]})]}),o&&w.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:w.jsxs("div",{className:"glass rounded-2xl p-6 max-w-3xl w-full max-h-[85vh] overflow-y-auto shadow-2xl",children:[w.jsxs("div",{className:"flex justify-between items-start mb-6",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:o.name}),w.jsx("p",{className:"text-sm text-gray-600 mt-1",children:o.client_id}),w.jsxs("div",{className:"flex items-center gap-3 mt-3",children:[w.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full ${o.status==="healthy"?"bg-green-100":o.status==="warning"?"bg-orange-100":o.status==="critical"?"bg-red-100":"bg-gray-100"}`,children:[w.jsx("div",{className:`w-2 h-2 rounded-full ${o.status==="healthy"?"bg-green-500 animate-pulse":o.status==="warning"?"bg-orange-500 animate-pulse":o.status==="critical"?"bg-red-500 animate-pulse":"bg-gray-500"}`}),w.jsx("span",{className:"text-sm font-medium capitalize",children:o.status})]}),o.alerts>0&&w.jsxs("span",{className:"px-3 py-1 bg-red-500 text-white rounded-full text-sm font-medium",children:[o.alerts," Active Alert",o.alerts>1?"s":""]})]})]}),w.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:w.jsx(Wn,{className:"w-5 h-5"})})]}),o.reading&&w.jsxs(w.Fragment,{children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Readings"}),w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-6",children:Object.keys(P).map(S=>{const I=o.reading[S],X=P[S],Y=I<X.min||I>X.max,B=(I-X.min)/(X.max-X.min)*100;return w.jsxs("div",{className:`p-4 rounded-lg ${Y?"bg-red-50 border-2 border-red-300":"bg-gray-50 border-2 border-gray-200"}`,children:[w.jsx("div",{className:"text-xs text-gray-600 mb-1",children:E(S)}),w.jsxs("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:[(I==null?void 0:I.toFixed(2))||"N/A",w.jsx("span",{className:"text-sm text-gray-500 ml-1",children:M(S)})]}),w.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mb-1",children:w.jsx("div",{className:`h-1.5 rounded-full ${Y?"bg-red-500":"bg-green-500"}`,style:{width:`${Math.min(Math.max(B,0),100)}%`}})}),w.jsxs("div",{className:"text-xs text-gray-600",children:["Range: ",X.min," - ",X.max]})]},S)})})]}),w.jsxs("div",{className:"mb-6",children:[w.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Alert Details (",o.alerts,")"]}),o.alerts===0?w.jsxs("div",{className:"text-center py-8 bg-green-50 rounded-lg",children:[w.jsx(Xe,{className:"w-12 h-12 mx-auto text-green-500 mb-2"}),w.jsx("p",{className:"text-gray-600 font-medium",children:"No Active Alerts"}),w.jsx("p",{className:"text-gray-500 text-sm",children:"All parameters within normal range"})]}):w.jsx("div",{className:"space-y-2",children:d.filter(S=>S.device_id===parseInt(o.id)).map((S,I)=>w.jsxs("div",{className:`p-4 rounded-lg border ${S.severity==="critical"?"bg-red-50 border-red-300":"bg-orange-50 border-orange-300"}`,children:[w.jsxs("div",{className:"flex items-center justify-between mb-2",children:[w.jsx("span",{className:"font-semibold text-sm",children:E(S.parameter)}),w.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${S.severity==="critical"?"bg-red-200 text-red-800":"bg-orange-200 text-orange-800"}`,children:S.severity.toUpperCase()})]}),w.jsx("p",{className:"text-sm text-gray-700 mb-2",children:S.message}),w.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[w.jsxs("span",{children:["Value: ",w.jsx("span",{className:"font-semibold",children:S.value.toFixed(2)})," ",M(S.parameter)]}),w.jsxs("span",{children:["Threshold: ",w.jsx("span",{className:"font-semibold",children:S.threshold_value})]})]})]},I))})]}),w.jsx("button",{onClick:()=>e(`/stations/${o.id}`),className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium shadow-md hover:shadow-lg",children:"View Full Device Details "})]})}),s&&w.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:w.jsxs("div",{className:"glass rounded-2xl p-6 max-w-3xl w-full max-h-[85vh] overflow-y-auto shadow-2xl",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Configure Alert Thresholds"}),w.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-gray-200 rounded-lg transition-colors",children:w.jsx(Wn,{className:"w-5 h-5"})})]}),w.jsx("p",{className:"text-gray-600 mb-6",children:"Set minimum and maximum thresholds for each parameter. Alerts will be triggered when device readings exceed these limits."}),w.jsx("div",{className:"space-y-4",children:Object.keys(P).map(S=>w.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[w.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center justify-between",children:[w.jsx("span",{children:E(S)}),w.jsxs("span",{className:"text-sm text-gray-500",children:["(",M(S),")"]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-600 mb-2 font-medium",children:"Minimum Threshold"}),w.jsx("input",{type:"number",value:P[S].min,onChange:I=>L(S,"min",I.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",step:"0.1"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm text-gray-600 mb-2 font-medium",children:"Maximum Threshold"}),w.jsx("input",{type:"number",value:P[S].max,onChange:I=>L(S,"max",I.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",step:"0.1"})]})]})]},S))}),w.jsxs("div",{className:"mt-6 flex gap-3",children:[w.jsx("button",{onClick:H,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium shadow-md hover:shadow-lg",children:"Save Thresholds"}),w.jsx("button",{onClick:()=>l(!1),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Cancel"})]})]})})]})})};export{ed as default};
